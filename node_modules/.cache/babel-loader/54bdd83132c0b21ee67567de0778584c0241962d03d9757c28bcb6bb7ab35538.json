{"ast":null,"code":"import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _without from \"lodash-es/without\";\nimport _isEmpty from \"lodash-es/isEmpty\";\nimport _partialRight from \"lodash-es/partialRight\";\nimport _inRange from \"lodash-es/inRange\";\nimport _map from \"lodash-es/map\";\nimport _get from \"lodash-es/get\";\nimport _reduce from \"lodash-es/reduce\";\nimport _invoke from \"lodash-es/invoke\";\nimport _isPlainObject from \"lodash-es/isPlainObject\";\nimport _isUndefined from \"lodash-es/isUndefined\";\nimport cx from 'clsx';\nimport keyboardKey from 'keyboard-key';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport shallowEqual from 'shallowequal';\nimport { ModernAutoControlledComponent as Component, customPropTypes, eventStack, getElementType, getUnhandledProps, htmlInputAttrs, isBrowser, objectDiff, partitionHTMLProps, SUI, useKeyOnly, useValueAndKey } from '../../lib';\nimport Input from '../../elements/Input';\nimport SearchCategory from './SearchCategory';\nimport SearchResult from './SearchResult';\nimport SearchResults from './SearchResults';\nvar overrideSearchInputProps = function overrideSearchInputProps(predefinedProps) {\n  var input = predefinedProps.input;\n  if (_isUndefined(input)) {\n    return _extends({}, predefinedProps, {\n      input: {\n        className: 'prompt'\n      }\n    });\n  }\n  if (_isPlainObject(input)) {\n    return _extends({}, predefinedProps, {\n      input: _extends({}, input, {\n        className: cx(input.className, 'prompt')\n      })\n    });\n  }\n  return predefinedProps;\n};\n/**\n * A search module allows a user to query for results from a selection of data\n */\n\nvar Search = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Search, _Component);\n  function Search() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.handleResultSelect = function (e, result) {\n      _invoke(_this.props, 'onResultSelect', e, _extends({}, _this.props, {\n        result: result\n      }));\n    };\n    _this.handleSelectionChange = function (e) {\n      var result = _this.getSelectedResult();\n      _invoke(_this.props, 'onSelectionChange', e, _extends({}, _this.props, {\n        result: result\n      }));\n    };\n    _this.closeOnEscape = function (e) {\n      if (keyboardKey.getCode(e) !== keyboardKey.Escape) return;\n      e.preventDefault();\n      _this.close();\n    };\n    _this.moveSelectionOnKeyDown = function (e) {\n      switch (keyboardKey.getCode(e)) {\n        case keyboardKey.ArrowDown:\n          e.preventDefault();\n          _this.moveSelectionBy(e, 1);\n          break;\n        case keyboardKey.ArrowUp:\n          e.preventDefault();\n          _this.moveSelectionBy(e, -1);\n          break;\n        default:\n          break;\n      }\n    };\n    _this.selectItemOnEnter = function (e) {\n      if (keyboardKey.getCode(e) !== keyboardKey.Enter) return;\n      var result = _this.getSelectedResult(); // prevent selecting null if there was no selected item value\n\n      if (!result) return;\n      e.preventDefault(); // notify the onResultSelect prop that the user is trying to change value\n\n      _this.setValue(result.title);\n      _this.handleResultSelect(e, result);\n      _this.close();\n    };\n    _this.closeOnDocumentClick = function (e) {\n      _this.close();\n    };\n    _this.handleMouseDown = function (e) {\n      _this.isMouseDown = true;\n      _invoke(_this.props, 'onMouseDown', e, _this.props);\n      eventStack.sub('mouseup', _this.handleDocumentMouseUp);\n    };\n    _this.handleDocumentMouseUp = function () {\n      _this.isMouseDown = false;\n      eventStack.unsub('mouseup', _this.handleDocumentMouseUp);\n    };\n    _this.handleInputClick = function (e) {\n      // prevent closeOnDocumentClick()\n      e.nativeEvent.stopImmediatePropagation();\n      _this.tryOpen();\n    };\n    _this.handleItemClick = function (e, _ref) {\n      var id = _ref.id;\n      var result = _this.getSelectedResult(id); // prevent closeOnDocumentClick()\n\n      e.nativeEvent.stopImmediatePropagation(); // notify the onResultSelect prop that the user is trying to change value\n\n      _this.setValue(result.title);\n      _this.handleResultSelect(e, result);\n      _this.close();\n    };\n    _this.handleItemMouseDown = function (e) {\n      // Heads up! We should prevent default to prevent blur events.\n      // https://github.com/Semantic-Org/Semantic-UI-React/issues/3298\n      e.preventDefault();\n    };\n    _this.handleFocus = function (e) {\n      _invoke(_this.props, 'onFocus', e, _this.props);\n      _this.setState({\n        focus: true\n      });\n    };\n    _this.handleBlur = function (e) {\n      _invoke(_this.props, 'onBlur', e, _this.props);\n      _this.setState({\n        focus: false\n      });\n    };\n    _this.handleSearchChange = function (e) {\n      // prevent propagating to this.props.onChange()\n      e.stopPropagation();\n      var minCharacters = _this.props.minCharacters;\n      var open = _this.state.open;\n      var newQuery = e.target.value;\n      _invoke(_this.props, 'onSearchChange', e, _extends({}, _this.props, {\n        value: newQuery\n      })); // open search dropdown on search query\n\n      if (newQuery.length < minCharacters) {\n        _this.close();\n      } else if (!open) {\n        _this.tryOpen(newQuery);\n      }\n      _this.setValue(newQuery);\n    };\n    _this.getFlattenedResults = function () {\n      var _this$props = _this.props,\n        category = _this$props.category,\n        results = _this$props.results;\n      return !category ? results : _reduce(results, function (memo, categoryData) {\n        return memo.concat(categoryData.results);\n      }, []);\n    };\n    _this.getSelectedResult = function (index) {\n      if (index === void 0) {\n        index = _this.state.selectedIndex;\n      }\n      var results = _this.getFlattenedResults();\n      return _get(results, index);\n    };\n    _this.setValue = function (value) {\n      var selectFirstResult = _this.props.selectFirstResult;\n      _this.setState({\n        value: value,\n        selectedIndex: selectFirstResult ? 0 : -1\n      });\n    };\n    _this.moveSelectionBy = function (e, offset) {\n      var selectedIndex = _this.state.selectedIndex;\n      var results = _this.getFlattenedResults();\n      var lastIndex = results.length - 1; // next is after last, wrap to beginning\n      // next is before first, wrap to end\n\n      var nextIndex = selectedIndex + offset;\n      if (nextIndex > lastIndex) nextIndex = 0;else if (nextIndex < 0) nextIndex = lastIndex;\n      _this.setState({\n        selectedIndex: nextIndex\n      });\n      _this.scrollSelectedItemIntoView();\n      _this.handleSelectionChange(e);\n    };\n    _this.scrollSelectedItemIntoView = function () {\n      // Do not access document when server side rendering\n      if (!isBrowser()) return;\n      var menu = document.querySelector('.ui.search.active.visible .results.visible');\n      if (!menu) return;\n      var item = menu.querySelector('.result.active');\n      if (!item) return;\n      var isOutOfUpperView = item.offsetTop < menu.scrollTop;\n      var isOutOfLowerView = item.offsetTop + item.clientHeight > menu.scrollTop + menu.clientHeight;\n      if (isOutOfUpperView) {\n        menu.scrollTop = item.offsetTop;\n      } else if (isOutOfLowerView) {\n        menu.scrollTop = item.offsetTop + item.clientHeight - menu.clientHeight;\n      }\n    };\n    _this.tryOpen = function (currentValue) {\n      if (currentValue === void 0) {\n        currentValue = _this.state.value;\n      }\n      var minCharacters = _this.props.minCharacters;\n      if (currentValue.length < minCharacters) return;\n      _this.open();\n    };\n    _this.open = function () {\n      _this.setState({\n        open: true\n      });\n    };\n    _this.close = function () {\n      _this.setState({\n        open: false\n      });\n    };\n    _this.renderSearchInput = function (rest) {\n      var _this$props2 = _this.props,\n        icon = _this$props2.icon,\n        input = _this$props2.input,\n        placeholder = _this$props2.placeholder;\n      var value = _this.state.value;\n      return Input.create(input, {\n        autoGenerateKey: false,\n        defaultProps: _extends({}, rest, {\n          autoComplete: 'off',\n          icon: icon,\n          onChange: _this.handleSearchChange,\n          onClick: _this.handleInputClick,\n          tabIndex: '0',\n          value: value,\n          placeholder: placeholder\n        }),\n        // Nested shorthand props need special treatment to survive the shallow merge\n        overrideProps: overrideSearchInputProps\n      });\n    };\n    _this.renderNoResults = function () {\n      var _this$props3 = _this.props,\n        noResultsDescription = _this$props3.noResultsDescription,\n        noResultsMessage = _this$props3.noResultsMessage;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"message empty\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"header\"\n      }, noResultsMessage), noResultsDescription && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"description\"\n      }, noResultsDescription));\n    };\n    _this.renderResult = function (_ref2, index, _array, offset) {\n      var childKey = _ref2.childKey,\n        result = _objectWithoutPropertiesLoose(_ref2, [\"childKey\"]);\n      if (offset === void 0) {\n        offset = 0;\n      }\n      var resultRenderer = _this.props.resultRenderer;\n      var selectedIndex = _this.state.selectedIndex;\n      var offsetIndex = index + offset;\n      return /*#__PURE__*/React.createElement(SearchResult, _extends({\n        key: childKey != null ? childKey : result.id || result.title,\n        active: selectedIndex === offsetIndex,\n        onClick: _this.handleItemClick,\n        onMouseDown: _this.handleItemMouseDown,\n        renderer: resultRenderer\n      }, result, {\n        id: offsetIndex // Used to lookup the result on item click\n      }));\n    };\n\n    _this.renderResults = function () {\n      var results = _this.props.results;\n      return _map(results, _this.renderResult);\n    };\n    _this.renderCategories = function () {\n      var _this$props4 = _this.props,\n        categoryLayoutRenderer = _this$props4.categoryLayoutRenderer,\n        categoryRenderer = _this$props4.categoryRenderer,\n        categories = _this$props4.results;\n      var selectedIndex = _this.state.selectedIndex;\n      var count = 0;\n      return _map(categories, function (_ref3) {\n        var childKey = _ref3.childKey,\n          category = _objectWithoutPropertiesLoose(_ref3, [\"childKey\"]);\n        var categoryProps = _extends({\n          key: childKey != null ? childKey : category.name,\n          active: _inRange(selectedIndex, count, count + category.results.length),\n          layoutRenderer: categoryLayoutRenderer,\n          renderer: categoryRenderer\n        }, category);\n        var renderFn = _partialRight(_this.renderResult, count);\n        count += category.results.length;\n        return /*#__PURE__*/React.createElement(SearchCategory, categoryProps, category.results.map(renderFn));\n      });\n    };\n    _this.renderMenuContent = function () {\n      var _this$props5 = _this.props,\n        category = _this$props5.category,\n        showNoResults = _this$props5.showNoResults,\n        results = _this$props5.results;\n      if (_isEmpty(results)) {\n        return showNoResults ? _this.renderNoResults() : null;\n      }\n      return category ? _this.renderCategories() : _this.renderResults();\n    };\n    _this.renderResultsMenu = function () {\n      var open = _this.state.open;\n      var resultsClasses = open ? 'visible' : '';\n      var menuContent = _this.renderMenuContent();\n      if (!menuContent) return;\n      return /*#__PURE__*/React.createElement(SearchResults, {\n        className: resultsClasses\n      }, menuContent);\n    };\n    return _this;\n  }\n  Search.getAutoControlledStateFromProps = function getAutoControlledStateFromProps(props, state) {\n    // We need to store a `prevValue` to compare as in `getDerivedStateFromProps` we don't have\n    // prevState\n    if (typeof state.prevValue !== 'undefined' && shallowEqual(state.prevValue, state.value)) {\n      return {\n        prevValue: state.value\n      };\n    }\n    var selectedIndex = props.selectFirstResult ? 0 : -1;\n    return {\n      prevValue: state.value,\n      selectedIndex: selectedIndex\n    };\n  };\n  var _proto = Search.prototype;\n  _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n    return !shallowEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n  };\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    // eslint-disable-line complexity\n    // focused / blurred\n    if (!prevState.focus && this.state.focus) {\n      if (!this.isMouseDown) {\n        this.tryOpen();\n      }\n      if (this.state.open) {\n        eventStack.sub('keydown', [this.moveSelectionOnKeyDown, this.selectItemOnEnter]);\n      }\n    } else if (prevState.focus && !this.state.focus) {\n      if (!this.isMouseDown) {\n        this.close();\n      }\n      eventStack.unsub('keydown', [this.moveSelectionOnKeyDown, this.selectItemOnEnter]);\n    } // opened / closed\n\n    if (!prevState.open && this.state.open) {\n      this.open();\n      eventStack.sub('click', this.closeOnDocumentClick);\n      eventStack.sub('keydown', [this.closeOnEscape, this.moveSelectionOnKeyDown, this.selectItemOnEnter]);\n    } else if (prevState.open && !this.state.open) {\n      this.close();\n      eventStack.unsub('click', this.closeOnDocumentClick);\n      eventStack.unsub('keydown', [this.closeOnEscape, this.moveSelectionOnKeyDown, this.selectItemOnEnter]);\n    }\n  };\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    eventStack.unsub('click', this.closeOnDocumentClick);\n    eventStack.unsub('keydown', [this.closeOnEscape, this.moveSelectionOnKeyDown, this.selectItemOnEnter]);\n  } // ----------------------------------------\n  // Document Event Handlers\n  // ----------------------------------------\n  ;\n\n  _proto.render = function render() {\n    var _this$state = this.state,\n      searchClasses = _this$state.searchClasses,\n      focus = _this$state.focus,\n      open = _this$state.open;\n    var _this$props6 = this.props,\n      aligned = _this$props6.aligned,\n      category = _this$props6.category,\n      className = _this$props6.className,\n      fluid = _this$props6.fluid,\n      loading = _this$props6.loading,\n      size = _this$props6.size; // Classes\n\n    var classes = cx('ui', open && 'active visible', size, searchClasses, useKeyOnly(category, 'category'), useKeyOnly(focus, 'focus'), useKeyOnly(fluid, 'fluid'), useKeyOnly(loading, 'loading'), useValueAndKey(aligned, 'aligned'), 'search', className);\n    var unhandled = getUnhandledProps(Search, this.props);\n    var ElementType = getElementType(Search, this.props);\n    var _partitionHTMLProps = partitionHTMLProps(unhandled, {\n        htmlProps: htmlInputAttrs\n      }),\n      htmlInputProps = _partitionHTMLProps[0],\n      rest = _partitionHTMLProps[1];\n    return /*#__PURE__*/React.createElement(ElementType, _extends({}, rest, {\n      className: classes,\n      onBlur: this.handleBlur,\n      onFocus: this.handleFocus,\n      onMouseDown: this.handleMouseDown\n    }), this.renderSearchInput(htmlInputProps), this.renderResultsMenu());\n  };\n  return Search;\n}(Component);\nSearch.handledProps = [\"aligned\", \"as\", \"category\", \"categoryLayoutRenderer\", \"categoryRenderer\", \"className\", \"defaultOpen\", \"defaultValue\", \"fluid\", \"icon\", \"input\", \"loading\", \"minCharacters\", \"noResultsDescription\", \"noResultsMessage\", \"onBlur\", \"onFocus\", \"onMouseDown\", \"onResultSelect\", \"onSearchChange\", \"onSelectionChange\", \"open\", \"placeholder\", \"resultRenderer\", \"results\", \"selectFirstResult\", \"showNoResults\", \"size\", \"value\"];\nexport { Search as default };\nSearch.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /** An element type to render as (string or function). */\n  as: PropTypes.elementType,\n  // ------------------------------------\n  // Behavior\n  // ------------------------------------\n\n  /** Initial value of open. */\n  defaultOpen: PropTypes.bool,\n  /** Initial value. */\n  defaultValue: PropTypes.string,\n  /** Shorthand for Icon. */\n  icon: PropTypes.oneOfType([PropTypes.node, PropTypes.object]),\n  /** Minimum characters to query for results */\n  minCharacters: PropTypes.number,\n  /** Additional text for \"No Results\" message with less emphasis. */\n  noResultsDescription: PropTypes.node,\n  /** Message to display when there are no results. */\n  noResultsMessage: PropTypes.node,\n  /** Controls whether or not the results menu is displayed. */\n  open: PropTypes.bool,\n  /**\n   * One of:\n   * - array of Search.Result props e.g. `{ title: '', description: '' }` or\n   * - object of categories e.g. `{ name: '', results: [{ title: '', description: '' }]`\n   */\n  results: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.shape(SearchResult.propTypes)), PropTypes.shape(SearchCategory.propTypes)]),\n  /** Whether the search should automatically select the first result after searching. */\n  selectFirstResult: PropTypes.bool,\n  /** Whether a \"no results\" message should be shown if no results are found. */\n  showNoResults: PropTypes.bool,\n  /** Current value of the search input. Creates a controlled component. */\n  value: PropTypes.string,\n  // ------------------------------------\n  // Rendering\n  // ------------------------------------\n\n  /**\n   * Renders the SearchCategory layout.\n   *\n   * @param {object} categoryContent - The Renderable SearchCategory contents.\n   * @param {object} resultsContent - The Renderable SearchResult contents.\n   * @returns {*} - Renderable SearchCategory layout.\n   */\n  categoryLayoutRenderer: PropTypes.func,\n  /**\n   * Renders the SearchCategory contents.\n   *\n   * @param {object} props - The SearchCategory props object.\n   * @returns {*} - Renderable SearchCategory contents.\n   */\n  categoryRenderer: PropTypes.func,\n  /**\n   * Renders the SearchResult contents.\n   *\n   * @param {object} props - The SearchResult props object.\n   * @returns {*} - Renderable SearchResult contents.\n   */\n  resultRenderer: PropTypes.func,\n  // ------------------------------------\n  // Callbacks\n  // ------------------------------------\n\n  /**\n   * Called on blur.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onBlur: PropTypes.func,\n  /**\n   * Called on focus.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onFocus: PropTypes.func,\n  /**\n   * Called on mousedown.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onMouseDown: PropTypes.func,\n  /**\n   * Called when a result is selected.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onResultSelect: PropTypes.func,\n  /**\n   * Called on search input change.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props, includes current value of search input.\n   */\n  onSearchChange: PropTypes.func,\n  /**\n   * Called when the active selection index is changed.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onSelectionChange: PropTypes.func,\n  // ------------------------------------\n  // Style\n  // ------------------------------------\n\n  /** A search can have its results aligned to its left or right container edge. */\n  aligned: PropTypes.string,\n  /** A search can display results from remote content ordered by categories. */\n  category: PropTypes.bool,\n  /** Additional classes. */\n  className: PropTypes.string,\n  /** A search can have its results take up the width of its container. */\n  fluid: PropTypes.bool,\n  /** Shorthand for input element. */\n  input: customPropTypes.itemShorthand,\n  /** A search can show a loading indicator. */\n  loading: PropTypes.bool,\n  /** A search can have different sizes. */\n  size: PropTypes.oneOf(_without(SUI.SIZES, 'medium')),\n  /** A search can show placeholder text when empty. */\n  placeholder: PropTypes.string\n} : {};\nSearch.defaultProps = {\n  icon: 'search',\n  input: 'text',\n  minCharacters: 1,\n  noResultsMessage: 'No results found.',\n  showNoResults: true\n};\nSearch.autoControlledProps = ['open', 'value'];\nSearch.Category = SearchCategory;\nSearch.Result = SearchResult;\nSearch.Results = SearchResults;","map":{"version":3,"names":["_objectWithoutPropertiesLoose","_inheritsLoose","_extends","_without","_isEmpty","_partialRight","_inRange","_map","_get","_reduce","_invoke","_isPlainObject","_isUndefined","cx","keyboardKey","PropTypes","React","shallowEqual","ModernAutoControlledComponent","Component","customPropTypes","eventStack","getElementType","getUnhandledProps","htmlInputAttrs","isBrowser","objectDiff","partitionHTMLProps","SUI","useKeyOnly","useValueAndKey","Input","SearchCategory","SearchResult","SearchResults","overrideSearchInputProps","predefinedProps","input","className","Search","_Component","_this","_len","arguments","length","args","Array","_key","call","apply","concat","handleResultSelect","e","result","props","handleSelectionChange","getSelectedResult","closeOnEscape","getCode","Escape","preventDefault","close","moveSelectionOnKeyDown","ArrowDown","moveSelectionBy","ArrowUp","selectItemOnEnter","Enter","setValue","title","closeOnDocumentClick","handleMouseDown","isMouseDown","sub","handleDocumentMouseUp","unsub","handleInputClick","nativeEvent","stopImmediatePropagation","tryOpen","handleItemClick","_ref","id","handleItemMouseDown","handleFocus","setState","focus","handleBlur","handleSearchChange","stopPropagation","minCharacters","open","state","newQuery","target","value","getFlattenedResults","_this$props","category","results","memo","categoryData","index","selectedIndex","selectFirstResult","offset","lastIndex","nextIndex","scrollSelectedItemIntoView","menu","document","querySelector","item","isOutOfUpperView","offsetTop","scrollTop","isOutOfLowerView","clientHeight","currentValue","renderSearchInput","rest","_this$props2","icon","placeholder","create","autoGenerateKey","defaultProps","autoComplete","onChange","onClick","tabIndex","overrideProps","renderNoResults","_this$props3","noResultsDescription","noResultsMessage","createElement","renderResult","_ref2","_array","childKey","resultRenderer","offsetIndex","key","active","onMouseDown","renderer","renderResults","renderCategories","_this$props4","categoryLayoutRenderer","categoryRenderer","categories","count","_ref3","categoryProps","name","layoutRenderer","renderFn","map","renderMenuContent","_this$props5","showNoResults","renderResultsMenu","resultsClasses","menuContent","getAutoControlledStateFromProps","prevValue","_proto","prototype","shouldComponentUpdate","nextProps","nextState","componentDidUpdate","prevProps","prevState","componentWillUnmount","render","_this$state","searchClasses","_this$props6","aligned","fluid","loading","size","classes","unhandled","ElementType","_partitionHTMLProps","htmlProps","htmlInputProps","onBlur","onFocus","handledProps","default","propTypes","process","env","NODE_ENV","as","elementType","defaultOpen","bool","defaultValue","string","oneOfType","node","object","number","arrayOf","shape","func","onResultSelect","onSearchChange","onSelectionChange","itemShorthand","oneOf","SIZES","autoControlledProps","Category","Result","Results"],"sources":["/home/runner/work/jeopardy/jeopardy/node_modules/semantic-ui-react/dist/es/modules/Search/Search.js"],"sourcesContent":["import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _without from \"lodash-es/without\";\nimport _isEmpty from \"lodash-es/isEmpty\";\nimport _partialRight from \"lodash-es/partialRight\";\nimport _inRange from \"lodash-es/inRange\";\nimport _map from \"lodash-es/map\";\nimport _get from \"lodash-es/get\";\nimport _reduce from \"lodash-es/reduce\";\nimport _invoke from \"lodash-es/invoke\";\nimport _isPlainObject from \"lodash-es/isPlainObject\";\nimport _isUndefined from \"lodash-es/isUndefined\";\nimport cx from 'clsx';\nimport keyboardKey from 'keyboard-key';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport shallowEqual from 'shallowequal';\nimport { ModernAutoControlledComponent as Component, customPropTypes, eventStack, getElementType, getUnhandledProps, htmlInputAttrs, isBrowser, objectDiff, partitionHTMLProps, SUI, useKeyOnly, useValueAndKey } from '../../lib';\nimport Input from '../../elements/Input';\nimport SearchCategory from './SearchCategory';\nimport SearchResult from './SearchResult';\nimport SearchResults from './SearchResults';\n\nvar overrideSearchInputProps = function overrideSearchInputProps(predefinedProps) {\n  var input = predefinedProps.input;\n\n  if (_isUndefined(input)) {\n    return _extends({}, predefinedProps, {\n      input: {\n        className: 'prompt'\n      }\n    });\n  }\n\n  if (_isPlainObject(input)) {\n    return _extends({}, predefinedProps, {\n      input: _extends({}, input, {\n        className: cx(input.className, 'prompt')\n      })\n    });\n  }\n\n  return predefinedProps;\n};\n/**\n * A search module allows a user to query for results from a selection of data\n */\n\n\nvar Search = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Search, _Component);\n\n  function Search() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _this.handleResultSelect = function (e, result) {\n      _invoke(_this.props, 'onResultSelect', e, _extends({}, _this.props, {\n        result: result\n      }));\n    };\n\n    _this.handleSelectionChange = function (e) {\n      var result = _this.getSelectedResult();\n\n      _invoke(_this.props, 'onSelectionChange', e, _extends({}, _this.props, {\n        result: result\n      }));\n    };\n\n    _this.closeOnEscape = function (e) {\n      if (keyboardKey.getCode(e) !== keyboardKey.Escape) return;\n      e.preventDefault();\n\n      _this.close();\n    };\n\n    _this.moveSelectionOnKeyDown = function (e) {\n      switch (keyboardKey.getCode(e)) {\n        case keyboardKey.ArrowDown:\n          e.preventDefault();\n\n          _this.moveSelectionBy(e, 1);\n\n          break;\n\n        case keyboardKey.ArrowUp:\n          e.preventDefault();\n\n          _this.moveSelectionBy(e, -1);\n\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    _this.selectItemOnEnter = function (e) {\n      if (keyboardKey.getCode(e) !== keyboardKey.Enter) return;\n\n      var result = _this.getSelectedResult(); // prevent selecting null if there was no selected item value\n\n\n      if (!result) return;\n      e.preventDefault(); // notify the onResultSelect prop that the user is trying to change value\n\n      _this.setValue(result.title);\n\n      _this.handleResultSelect(e, result);\n\n      _this.close();\n    };\n\n    _this.closeOnDocumentClick = function (e) {\n      _this.close();\n    };\n\n    _this.handleMouseDown = function (e) {\n      _this.isMouseDown = true;\n\n      _invoke(_this.props, 'onMouseDown', e, _this.props);\n\n      eventStack.sub('mouseup', _this.handleDocumentMouseUp);\n    };\n\n    _this.handleDocumentMouseUp = function () {\n      _this.isMouseDown = false;\n      eventStack.unsub('mouseup', _this.handleDocumentMouseUp);\n    };\n\n    _this.handleInputClick = function (e) {\n      // prevent closeOnDocumentClick()\n      e.nativeEvent.stopImmediatePropagation();\n\n      _this.tryOpen();\n    };\n\n    _this.handleItemClick = function (e, _ref) {\n      var id = _ref.id;\n\n      var result = _this.getSelectedResult(id); // prevent closeOnDocumentClick()\n\n\n      e.nativeEvent.stopImmediatePropagation(); // notify the onResultSelect prop that the user is trying to change value\n\n      _this.setValue(result.title);\n\n      _this.handleResultSelect(e, result);\n\n      _this.close();\n    };\n\n    _this.handleItemMouseDown = function (e) {\n      // Heads up! We should prevent default to prevent blur events.\n      // https://github.com/Semantic-Org/Semantic-UI-React/issues/3298\n      e.preventDefault();\n    };\n\n    _this.handleFocus = function (e) {\n      _invoke(_this.props, 'onFocus', e, _this.props);\n\n      _this.setState({\n        focus: true\n      });\n    };\n\n    _this.handleBlur = function (e) {\n      _invoke(_this.props, 'onBlur', e, _this.props);\n\n      _this.setState({\n        focus: false\n      });\n    };\n\n    _this.handleSearchChange = function (e) {\n      // prevent propagating to this.props.onChange()\n      e.stopPropagation();\n      var minCharacters = _this.props.minCharacters;\n      var open = _this.state.open;\n      var newQuery = e.target.value;\n\n      _invoke(_this.props, 'onSearchChange', e, _extends({}, _this.props, {\n        value: newQuery\n      })); // open search dropdown on search query\n\n\n      if (newQuery.length < minCharacters) {\n        _this.close();\n      } else if (!open) {\n        _this.tryOpen(newQuery);\n      }\n\n      _this.setValue(newQuery);\n    };\n\n    _this.getFlattenedResults = function () {\n      var _this$props = _this.props,\n          category = _this$props.category,\n          results = _this$props.results;\n      return !category ? results : _reduce(results, function (memo, categoryData) {\n        return memo.concat(categoryData.results);\n      }, []);\n    };\n\n    _this.getSelectedResult = function (index) {\n      if (index === void 0) {\n        index = _this.state.selectedIndex;\n      }\n\n      var results = _this.getFlattenedResults();\n\n      return _get(results, index);\n    };\n\n    _this.setValue = function (value) {\n      var selectFirstResult = _this.props.selectFirstResult;\n\n      _this.setState({\n        value: value,\n        selectedIndex: selectFirstResult ? 0 : -1\n      });\n    };\n\n    _this.moveSelectionBy = function (e, offset) {\n      var selectedIndex = _this.state.selectedIndex;\n\n      var results = _this.getFlattenedResults();\n\n      var lastIndex = results.length - 1; // next is after last, wrap to beginning\n      // next is before first, wrap to end\n\n      var nextIndex = selectedIndex + offset;\n      if (nextIndex > lastIndex) nextIndex = 0;else if (nextIndex < 0) nextIndex = lastIndex;\n\n      _this.setState({\n        selectedIndex: nextIndex\n      });\n\n      _this.scrollSelectedItemIntoView();\n\n      _this.handleSelectionChange(e);\n    };\n\n    _this.scrollSelectedItemIntoView = function () {\n      // Do not access document when server side rendering\n      if (!isBrowser()) return;\n      var menu = document.querySelector('.ui.search.active.visible .results.visible');\n      if (!menu) return;\n      var item = menu.querySelector('.result.active');\n      if (!item) return;\n      var isOutOfUpperView = item.offsetTop < menu.scrollTop;\n      var isOutOfLowerView = item.offsetTop + item.clientHeight > menu.scrollTop + menu.clientHeight;\n\n      if (isOutOfUpperView) {\n        menu.scrollTop = item.offsetTop;\n      } else if (isOutOfLowerView) {\n        menu.scrollTop = item.offsetTop + item.clientHeight - menu.clientHeight;\n      }\n    };\n\n    _this.tryOpen = function (currentValue) {\n      if (currentValue === void 0) {\n        currentValue = _this.state.value;\n      }\n\n      var minCharacters = _this.props.minCharacters;\n      if (currentValue.length < minCharacters) return;\n\n      _this.open();\n    };\n\n    _this.open = function () {\n      _this.setState({\n        open: true\n      });\n    };\n\n    _this.close = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    _this.renderSearchInput = function (rest) {\n      var _this$props2 = _this.props,\n          icon = _this$props2.icon,\n          input = _this$props2.input,\n          placeholder = _this$props2.placeholder;\n      var value = _this.state.value;\n      return Input.create(input, {\n        autoGenerateKey: false,\n        defaultProps: _extends({}, rest, {\n          autoComplete: 'off',\n          icon: icon,\n          onChange: _this.handleSearchChange,\n          onClick: _this.handleInputClick,\n          tabIndex: '0',\n          value: value,\n          placeholder: placeholder\n        }),\n        // Nested shorthand props need special treatment to survive the shallow merge\n        overrideProps: overrideSearchInputProps\n      });\n    };\n\n    _this.renderNoResults = function () {\n      var _this$props3 = _this.props,\n          noResultsDescription = _this$props3.noResultsDescription,\n          noResultsMessage = _this$props3.noResultsMessage;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"message empty\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"header\"\n      }, noResultsMessage), noResultsDescription && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"description\"\n      }, noResultsDescription));\n    };\n\n    _this.renderResult = function (_ref2, index, _array, offset) {\n      var childKey = _ref2.childKey,\n          result = _objectWithoutPropertiesLoose(_ref2, [\"childKey\"]);\n\n      if (offset === void 0) {\n        offset = 0;\n      }\n\n      var resultRenderer = _this.props.resultRenderer;\n      var selectedIndex = _this.state.selectedIndex;\n      var offsetIndex = index + offset;\n      return /*#__PURE__*/React.createElement(SearchResult, _extends({\n        key: childKey != null ? childKey : result.id || result.title,\n        active: selectedIndex === offsetIndex,\n        onClick: _this.handleItemClick,\n        onMouseDown: _this.handleItemMouseDown,\n        renderer: resultRenderer\n      }, result, {\n        id: offsetIndex // Used to lookup the result on item click\n\n      }));\n    };\n\n    _this.renderResults = function () {\n      var results = _this.props.results;\n      return _map(results, _this.renderResult);\n    };\n\n    _this.renderCategories = function () {\n      var _this$props4 = _this.props,\n          categoryLayoutRenderer = _this$props4.categoryLayoutRenderer,\n          categoryRenderer = _this$props4.categoryRenderer,\n          categories = _this$props4.results;\n      var selectedIndex = _this.state.selectedIndex;\n      var count = 0;\n      return _map(categories, function (_ref3) {\n        var childKey = _ref3.childKey,\n            category = _objectWithoutPropertiesLoose(_ref3, [\"childKey\"]);\n\n        var categoryProps = _extends({\n          key: childKey != null ? childKey : category.name,\n          active: _inRange(selectedIndex, count, count + category.results.length),\n          layoutRenderer: categoryLayoutRenderer,\n          renderer: categoryRenderer\n        }, category);\n\n        var renderFn = _partialRight(_this.renderResult, count);\n\n        count += category.results.length;\n        return /*#__PURE__*/React.createElement(SearchCategory, categoryProps, category.results.map(renderFn));\n      });\n    };\n\n    _this.renderMenuContent = function () {\n      var _this$props5 = _this.props,\n          category = _this$props5.category,\n          showNoResults = _this$props5.showNoResults,\n          results = _this$props5.results;\n\n      if (_isEmpty(results)) {\n        return showNoResults ? _this.renderNoResults() : null;\n      }\n\n      return category ? _this.renderCategories() : _this.renderResults();\n    };\n\n    _this.renderResultsMenu = function () {\n      var open = _this.state.open;\n      var resultsClasses = open ? 'visible' : '';\n\n      var menuContent = _this.renderMenuContent();\n\n      if (!menuContent) return;\n      return /*#__PURE__*/React.createElement(SearchResults, {\n        className: resultsClasses\n      }, menuContent);\n    };\n\n    return _this;\n  }\n\n  Search.getAutoControlledStateFromProps = function getAutoControlledStateFromProps(props, state) {\n    // We need to store a `prevValue` to compare as in `getDerivedStateFromProps` we don't have\n    // prevState\n    if (typeof state.prevValue !== 'undefined' && shallowEqual(state.prevValue, state.value)) {\n      return {\n        prevValue: state.value\n      };\n    }\n\n    var selectedIndex = props.selectFirstResult ? 0 : -1;\n    return {\n      prevValue: state.value,\n      selectedIndex: selectedIndex\n    };\n  };\n\n  var _proto = Search.prototype;\n\n  _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n    return !shallowEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    // eslint-disable-line complexity\n    // focused / blurred\n    if (!prevState.focus && this.state.focus) {\n      if (!this.isMouseDown) {\n        this.tryOpen();\n      }\n\n      if (this.state.open) {\n        eventStack.sub('keydown', [this.moveSelectionOnKeyDown, this.selectItemOnEnter]);\n      }\n    } else if (prevState.focus && !this.state.focus) {\n      if (!this.isMouseDown) {\n        this.close();\n      }\n\n      eventStack.unsub('keydown', [this.moveSelectionOnKeyDown, this.selectItemOnEnter]);\n    } // opened / closed\n\n\n    if (!prevState.open && this.state.open) {\n      this.open();\n      eventStack.sub('click', this.closeOnDocumentClick);\n      eventStack.sub('keydown', [this.closeOnEscape, this.moveSelectionOnKeyDown, this.selectItemOnEnter]);\n    } else if (prevState.open && !this.state.open) {\n      this.close();\n      eventStack.unsub('click', this.closeOnDocumentClick);\n      eventStack.unsub('keydown', [this.closeOnEscape, this.moveSelectionOnKeyDown, this.selectItemOnEnter]);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    eventStack.unsub('click', this.closeOnDocumentClick);\n    eventStack.unsub('keydown', [this.closeOnEscape, this.moveSelectionOnKeyDown, this.selectItemOnEnter]);\n  } // ----------------------------------------\n  // Document Event Handlers\n  // ----------------------------------------\n  ;\n\n  _proto.render = function render() {\n    var _this$state = this.state,\n        searchClasses = _this$state.searchClasses,\n        focus = _this$state.focus,\n        open = _this$state.open;\n    var _this$props6 = this.props,\n        aligned = _this$props6.aligned,\n        category = _this$props6.category,\n        className = _this$props6.className,\n        fluid = _this$props6.fluid,\n        loading = _this$props6.loading,\n        size = _this$props6.size; // Classes\n\n    var classes = cx('ui', open && 'active visible', size, searchClasses, useKeyOnly(category, 'category'), useKeyOnly(focus, 'focus'), useKeyOnly(fluid, 'fluid'), useKeyOnly(loading, 'loading'), useValueAndKey(aligned, 'aligned'), 'search', className);\n    var unhandled = getUnhandledProps(Search, this.props);\n    var ElementType = getElementType(Search, this.props);\n\n    var _partitionHTMLProps = partitionHTMLProps(unhandled, {\n      htmlProps: htmlInputAttrs\n    }),\n        htmlInputProps = _partitionHTMLProps[0],\n        rest = _partitionHTMLProps[1];\n\n    return /*#__PURE__*/React.createElement(ElementType, _extends({}, rest, {\n      className: classes,\n      onBlur: this.handleBlur,\n      onFocus: this.handleFocus,\n      onMouseDown: this.handleMouseDown\n    }), this.renderSearchInput(htmlInputProps), this.renderResultsMenu());\n  };\n\n  return Search;\n}(Component);\n\nSearch.handledProps = [\"aligned\", \"as\", \"category\", \"categoryLayoutRenderer\", \"categoryRenderer\", \"className\", \"defaultOpen\", \"defaultValue\", \"fluid\", \"icon\", \"input\", \"loading\", \"minCharacters\", \"noResultsDescription\", \"noResultsMessage\", \"onBlur\", \"onFocus\", \"onMouseDown\", \"onResultSelect\", \"onSearchChange\", \"onSelectionChange\", \"open\", \"placeholder\", \"resultRenderer\", \"results\", \"selectFirstResult\", \"showNoResults\", \"size\", \"value\"];\nexport { Search as default };\nSearch.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /** An element type to render as (string or function). */\n  as: PropTypes.elementType,\n  // ------------------------------------\n  // Behavior\n  // ------------------------------------\n\n  /** Initial value of open. */\n  defaultOpen: PropTypes.bool,\n\n  /** Initial value. */\n  defaultValue: PropTypes.string,\n\n  /** Shorthand for Icon. */\n  icon: PropTypes.oneOfType([PropTypes.node, PropTypes.object]),\n\n  /** Minimum characters to query for results */\n  minCharacters: PropTypes.number,\n\n  /** Additional text for \"No Results\" message with less emphasis. */\n  noResultsDescription: PropTypes.node,\n\n  /** Message to display when there are no results. */\n  noResultsMessage: PropTypes.node,\n\n  /** Controls whether or not the results menu is displayed. */\n  open: PropTypes.bool,\n\n  /**\n   * One of:\n   * - array of Search.Result props e.g. `{ title: '', description: '' }` or\n   * - object of categories e.g. `{ name: '', results: [{ title: '', description: '' }]`\n   */\n  results: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.shape(SearchResult.propTypes)), PropTypes.shape(SearchCategory.propTypes)]),\n\n  /** Whether the search should automatically select the first result after searching. */\n  selectFirstResult: PropTypes.bool,\n\n  /** Whether a \"no results\" message should be shown if no results are found. */\n  showNoResults: PropTypes.bool,\n\n  /** Current value of the search input. Creates a controlled component. */\n  value: PropTypes.string,\n  // ------------------------------------\n  // Rendering\n  // ------------------------------------\n\n  /**\n   * Renders the SearchCategory layout.\n   *\n   * @param {object} categoryContent - The Renderable SearchCategory contents.\n   * @param {object} resultsContent - The Renderable SearchResult contents.\n   * @returns {*} - Renderable SearchCategory layout.\n   */\n  categoryLayoutRenderer: PropTypes.func,\n\n  /**\n   * Renders the SearchCategory contents.\n   *\n   * @param {object} props - The SearchCategory props object.\n   * @returns {*} - Renderable SearchCategory contents.\n   */\n  categoryRenderer: PropTypes.func,\n\n  /**\n   * Renders the SearchResult contents.\n   *\n   * @param {object} props - The SearchResult props object.\n   * @returns {*} - Renderable SearchResult contents.\n   */\n  resultRenderer: PropTypes.func,\n  // ------------------------------------\n  // Callbacks\n  // ------------------------------------\n\n  /**\n   * Called on blur.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onBlur: PropTypes.func,\n\n  /**\n   * Called on focus.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onFocus: PropTypes.func,\n\n  /**\n   * Called on mousedown.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onMouseDown: PropTypes.func,\n\n  /**\n   * Called when a result is selected.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onResultSelect: PropTypes.func,\n\n  /**\n   * Called on search input change.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props, includes current value of search input.\n   */\n  onSearchChange: PropTypes.func,\n\n  /**\n   * Called when the active selection index is changed.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onSelectionChange: PropTypes.func,\n  // ------------------------------------\n  // Style\n  // ------------------------------------\n\n  /** A search can have its results aligned to its left or right container edge. */\n  aligned: PropTypes.string,\n\n  /** A search can display results from remote content ordered by categories. */\n  category: PropTypes.bool,\n\n  /** Additional classes. */\n  className: PropTypes.string,\n\n  /** A search can have its results take up the width of its container. */\n  fluid: PropTypes.bool,\n\n  /** Shorthand for input element. */\n  input: customPropTypes.itemShorthand,\n\n  /** A search can show a loading indicator. */\n  loading: PropTypes.bool,\n\n  /** A search can have different sizes. */\n  size: PropTypes.oneOf(_without(SUI.SIZES, 'medium')),\n\n  /** A search can show placeholder text when empty. */\n  placeholder: PropTypes.string\n} : {};\nSearch.defaultProps = {\n  icon: 'search',\n  input: 'text',\n  minCharacters: 1,\n  noResultsMessage: 'No results found.',\n  showNoResults: true\n};\nSearch.autoControlledProps = ['open', 'value'];\nSearch.Category = SearchCategory;\nSearch.Result = SearchResult;\nSearch.Results = SearchResults;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}