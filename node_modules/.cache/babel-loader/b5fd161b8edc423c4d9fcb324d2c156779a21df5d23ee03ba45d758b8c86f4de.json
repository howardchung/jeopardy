{"ast":null,"code":"import _toConsumableArray from\"/home/runner/work/jeopardy/jeopardy/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/home/runner/work/jeopardy/jeopardy/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/runner/work/jeopardy/jeopardy/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/runner/work/jeopardy/jeopardy/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/runner/work/jeopardy/jeopardy/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/runner/work/jeopardy/jeopardy/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/home/runner/work/jeopardy/jeopardy/node_modules/@babel/runtime/regenerator/index.js\";import React from'react';import{Button,Label,Input,Icon,Dropdown,Popup,Modal}from'semantic-ui-react';import'./Jeopardy.css';import{getDefaultPicture,getColorHex,shuffle,getColor}from'./utils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var scoringOptions=[{key:'standard',value:'standard',text:'Standard',title:'Same as the TV show. First correct answer scores the points. Incorrect answers before the correct answer lose points.'},{key:'coryat',value:'coryat',text:'Coryat',title:'All players get a chance to score/lose points. Daily Doubles are treated as regular questions.'},{key:'coop',value:'coop',text:'Co-Op',title:'Point values are ignored. Score is the same for all players and shows how many questions had a correct answer.'}];var dailyDouble=new Audio('/jeopardy/jeopardy-daily-double.mp3');var boardFill=new Audio('/jeopardy/jeopardy-board-fill.mp3');var think=new Audio('/jeopardy/jeopardy-think.mp3');var timesUp=new Audio('/jeopardy/jeopardy-times-up.mp3');var rightAnswer=new Audio('/jeopardy/jeopardy-rightanswer.mp3');export var Jeopardy=/*#__PURE__*/function(_React$Component){_inherits(Jeopardy,_React$Component);var _super=_createSuper(Jeopardy);function Jeopardy(){var _this;_classCallCheck(this,Jeopardy);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={game:null,isIntroPlaying:false,localAnswer:'',localWager:'',localAnswerSubmitted:false,localWagerSubmitted:false,localEpNum:'',categoryMask:Array(6).fill(true),categoryReadTime:0,clueMask:{},readingDisabled:false,buzzFrozen:false,showCustomModal:false};_this.buzzLock=0;_this.onKeydown=function(e){if(!document.activeElement||document.activeElement.tagName==='BODY'){if(e.key===' '){e.preventDefault();_this.onBuzz();}if(e.key==='p'){e.preventDefault();if(_this.state.game.canBuzz){_this.submitAnswer(null);}}}};_this.newGame=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(episode,filter,customGame){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({game:null});// optionally send an episode number\n_this.props.socket.emit('JPD:start',episode,filter,customGame);case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2,_x3){return _ref.apply(this,arguments);};}();_this.changeScoring=function(scoreMethod){_this.props.socket.emit('JPD:scoring',scoreMethod);};_this.customGame=function(){// Create an input element\nvar inputElement=document.createElement('input');// Set its type to file\ninputElement.type='file';// Set accept to the file types you want the user to select.\n// Include both the file extension and the mime type\n// inputElement.accept = accept;\n// set onchange event to call callback when user has selected file\ninputElement.addEventListener('change',function(){var file=inputElement.files[0];// Read the file\nvar reader=new FileReader();reader.readAsText(file);reader.onload=function(e){var _e$target;var content=(_e$target=e.target)===null||_e$target===void 0?void 0:_e$target.result;_this.newGame(null,null,content);_this.setState({showCustomModal:false});};});// dispatch a click event to open the file dialog\ninputElement.dispatchEvent(new MouseEvent('click'));};_this.sayText=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(text){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!_this.state.readingDisabled){_context2.next=4;break;}_context2.next=3;return new Promise(function(resolve){return setTimeout(resolve,2000);});case 3:return _context2.abrupt(\"return\");case 4:_context2.next=6;return new Promise(function(resolve){window.speechSynthesis.cancel();var utterThis=new SpeechSynthesisUtterance(text);// let retryCount = 0;\n// while (speechSynthesis.getVoices().length === 0 && retryCount < 3) {\n//   retryCount += 1;\n//   await new Promise((resolve) => setTimeout(resolve, 500));\n// }\nvar voices=window.speechSynthesis.getVoices();var target=voices.find(function(voice){return voice.name==='Google UK English Male';});if(target){utterThis.voice=target;}window.speechSynthesis.speak(utterThis);utterThis.onend=resolve;utterThis.onerror=resolve;});case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x4){return _ref2.apply(this,arguments);};}();_this.pickQ=function(id){_this.props.socket.emit('JPD:pickQ',id);};_this.submitWager=function(){_this.props.socket.emit('JPD:wager',_this.state.localWager);_this.setState({localWager:'',localWagerSubmitted:true});};_this.submitAnswer=function(){var answer=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(!_this.state.localAnswerSubmitted){var _this$state$game;_this.props.socket.emit('JPD:answer',(_this$state$game=_this.state.game)===null||_this$state$game===void 0?void 0:_this$state$game.currentQ,answer||_this.state.localAnswer);_this.setState({localAnswer:'',localAnswerSubmitted:true});}};_this.judgeAnswer=function(id,correct){_this.props.socket.emit('JPD:judge',{id:id,correct:correct});};_this.getCategories=function(){var game=_this.state.game;if(!game||!game.board){return[];}var categories=Array(6).fill('');Object.keys(game.board).forEach(function(key){var col=Number(key.split('_')[0])-1;categories[col]=game.board[key].category;});return categories;};_this.getWinners=function(){var _this$state$game2;var max=Math.max.apply(Math,_toConsumableArray(Object.values(((_this$state$game2=_this.state.game)===null||_this$state$game2===void 0?void 0:_this$state$game2.scores)||{})))||0;return _this.props.participants.filter(function(p){return(_this.state.game.scores[p.id]||0)===max;}).map(function(p){return p.id;});};_this.getBuzzOffset=function(id){var _this$state$game3,_this$state$game4,_this$state$game5;if(!((_this$state$game3=_this.state.game)!==null&&_this$state$game3!==void 0&&_this$state$game3.buzzUnlockTS)){return 0;}return((_this$state$game4=_this.state.game)===null||_this$state$game4===void 0?void 0:_this$state$game4.buzzes[id])-((_this$state$game5=_this.state.game)===null||_this$state$game5===void 0?void 0:_this$state$game5.buzzUnlockTS);};_this.onBuzz=function(){var game=_this.state.game;if(game.canBuzz&&!_this.buzzLock&&!_this.state.buzzFrozen){_this.props.socket.emit('JPD:buzz');}else{// Freeze the buzzer for 0.25 seconds\n// setState takes a little bit, so also set a local var to prevent spam\nvar now=Date.now();_this.buzzLock=now;_this.setState({buzzFrozen:true});setTimeout(function(){if(_this.buzzLock===now){_this.setState({buzzFrozen:false});_this.buzzLock=0;}},250);}};return _this;}_createClass(Jeopardy,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var _this2=this;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:window.speechSynthesis.getVoices();document.onkeydown=this.onKeydown;this.setState({readingDisabled:Boolean(window.localStorage.getItem('jeopardy-readingDisabled'))});this.props.socket.emit('JPD:init');this.props.socket.on('JPD:state',function(game){_this2.setState({game:game,localEpNum:game.epNum});});// this.props.socket.on('JPD:playIntro', () => {\n//   this.playIntro();\n// });\nthis.props.socket.on('JPD:playTimesUp',function(){timesUp.play();});this.props.socket.on('JPD:playDailyDouble',function(){dailyDouble.volume=0.5;dailyDouble.play();});this.props.socket.on('JPD:playFinalJeopardy',/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:think.volume=0.5;think.play();case 2:case\"end\":return _context3.stop();}}},_callee3);})));this.props.socket.on('JPD:playRightanswer',function(){rightAnswer.play();});this.props.socket.on('JPD:playMakeSelection',function(){if(_this2.state.game.picker){var selectionText=['Make a selection, {name}','You have command of the board, {name}','Pick a clue, {name}','Select a category, {name}','Go again, {name}'];var random=selectionText[Math.floor(Math.random()*selectionText.length)];_this2.sayText(random.replace('{name}',_this2.props.nameMap[_this2.state.game.picker]));}});this.props.socket.on('JPD:playClue',/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(qid,text){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_this2.setState({localAnswer:'',localWager:'',localWagerSubmitted:false,localAnswerSubmitted:false});// Read the question\n// console.log('JPD:playClue', text);\n// Remove parenthetical starts and blanks\n_context4.next=3;return _this2.sayText(text.replace(/^\\(.*\\)/,'').replace(/_+/g,' blank '));case 3:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x5,_x6){return _ref4.apply(this,arguments);};}());this.props.socket.on('JPD:playCategories',/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var now,clueMask,clueMaskOrder,i,j,clueSets,_i,_i2,categories,_i3,newMask;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:now=Number(new Date());clueMask={};clueMaskOrder=[];for(i=1;i<=6;i++){for(j=1;j<=5;j++){clueMask[\"\".concat(i,\"_\").concat(j)]=true;clueMaskOrder.push(\"\".concat(i,\"_\").concat(j));}}_this2.setState({categoryMask:Array(6).fill(false),categoryReadTime:now,clueMask:clueMask});// Run board intro sequence\n// Play the fill sound\nboardFill.play();// Randomly choose ordering of the 30 clues\n// Split into 6 sets of 5\n// Each half second show another set of 5\nshuffle(clueMaskOrder);clueSets=[];for(_i=0;_i<clueMaskOrder.length;_i+=5){clueSets.push(clueMaskOrder.slice(_i,_i+5));}_i2=0;case 10:if(!(_i2<clueSets.length)){_context5.next=18;break;}_context5.next=13;return new Promise(function(resolve){return setTimeout(resolve,400);});case 13:clueSets[_i2].forEach(function(clue){return delete _this2.state.clueMask[clue];});_this2.setState({clueMask:_this2.state.clueMask});case 15:_i2++;_context5.next=10;break;case 18:// Reveal and read categories\ncategories=_this2.getCategories();_context5.next=21;return _this2.sayText('Here are the categories.');case 21:_i3=0;case 22:if(!(_i3<_this2.state.categoryMask.length)){_context5.next=33;break;}if(!(_this2.state.categoryReadTime!==now)){_context5.next=25;break;}return _context5.abrupt(\"continue\",30);case 25:newMask=_toConsumableArray(_this2.state.categoryMask);newMask[_i3]=true;_this2.setState({categoryMask:newMask});_context5.next=30;return Promise.race([_this2.sayText(categories[_i3]),new Promise(function(resolve){return setTimeout(resolve,5000);})]);case 30:_i3++;_context5.next=22;break;case 33:case\"end\":return _context5.stop();}}},_callee5);})));case 12:case\"end\":return _context6.stop();}}},_callee6,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"componentWillUnmount\",value:function componentWillUnmount(){document.removeEventListener('keydown',this.onKeydown);}},{key:\"componentDidUpdate\",value:function(){var _componentDidUpdate=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(prevProps,prevState){var _prevState$game,_this$state$game6;var _this$state$game7,clue,box;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:if(!((_prevState$game=prevState.game)!==null&&_prevState$game!==void 0&&_prevState$game.currentQ)&&(_this$state$game6=this.state.game)!==null&&_this$state$game6!==void 0&&_this$state$game6.currentQ){// Run growing clue animation\nclue=document.getElementById('clueContainerContainer');box=document.getElementById((_this$state$game7=this.state.game)===null||_this$state$game7===void 0?void 0:_this$state$game7.currentQ);clue.style.left=box.offsetLeft+'px';clue.style.top=box.offsetTop+'px';setTimeout(function(){clue.style.left='0px';clue.style.top='0px';clue.style.transform='scale(1)';},1);}case 1:case\"end\":return _context7.stop();}}},_callee7,this);}));function componentDidUpdate(_x7,_x8){return _componentDidUpdate.apply(this,arguments);}return componentDidUpdate;}()},{key:\"render\",value:function render(){var _this3=this,_this$state$game8,_scoringOptions$find;var game=this.state.game;var categories=this.getCategories();return/*#__PURE__*/_jsxs(_Fragment,{children:[this.state.showCustomModal&&/*#__PURE__*/_jsxs(Modal,{open:true,onClose:function onClose(){return _this3.setState({showCustomModal:false});},children:[/*#__PURE__*/_jsx(Modal.Header,{children:\"Custom Game\"}),/*#__PURE__*/_jsx(Modal.Content,{children:/*#__PURE__*/_jsxs(Modal.Description,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"You can create and play a custom game by uploading a data file. Download the example and customize with your own questions and answers.\",/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Button,{color:\"orange\",icon:true,labelPosition:\"left\",href:\"./example.csv\",download:\"example.csv\",children:[/*#__PURE__*/_jsx(Icon,{name:\"download\"}),\"Download Example .csv\"]})})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{children:\"Once you're done, upload your file:\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Button,{onClick:function onClick(){return _this3.customGame();},icon:true,labelPosition:\"left\",color:\"purple\",children:[/*#__PURE__*/_jsx(Icon,{name:\"upload\"}),\"Upload\"]})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',height:'100%'},children:[/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexGrow:1},children:/*#__PURE__*/_jsxs(\"div\",{className:\"board \".concat((_this$state$game8=this.state.game)!==null&&_this$state$game8!==void 0&&_this$state$game8.currentQ?'currentQ':''),children:[this.state.isIntroPlaying&&/*#__PURE__*/_jsx(\"div\",{id:\"intro\"}),categories.map(function(cat,i){return/*#__PURE__*/_jsx(\"div\",{className:\"category box\",children:_this3.state.categoryMask[i]?cat:''},i);}),Array.from(Array(5)).map(function(_,i){return/*#__PURE__*/_jsx(React.Fragment,{children:categories.map(function(cat,j){var id=\"\".concat(j+1,\"_\").concat(i+1);var clue=game.board[id];return/*#__PURE__*/_jsx(\"div\",{id:id,onClick:clue?function(){return _this3.pickQ(id);}:undefined,className:\"\".concat(clue?'value':'',\" box\"),children:!_this3.state.clueMask[id]&&clue?clue.value:''},id);})},i);}),game&&Boolean(game.currentQ)&&/*#__PURE__*/_jsx(\"div\",{id:\"clueContainerContainer\",className:\"clueContainerContainer\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"clueContainer\",className:\"clueContainer \".concat(game.currentDailyDouble&&game.waitingForWager?'dailyDouble':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"category\",style:{height:'30px'},children:game.board[game.currentQ]&&game.board[game.currentQ].category}),/*#__PURE__*/_jsx(\"div\",{className:\"category\",style:{height:'30px'},children:Boolean(game.currentValue)&&game.currentValue}),/*#__PURE__*/_jsx(\"div\",{className:\"clue\",children:game.board[game.currentQ]&&game.board[game.currentQ].question}),/*#__PURE__*/_jsxs(\"div\",{className:\"\",style:{height:'60px'},children:[!game.currentAnswer&&!game.buzzes[this.props.socket.id]&&!game.submitted[this.props.socket.id]&&!game.currentDailyDouble&&game.round!=='final'?/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex'},children:[/*#__PURE__*/_jsxs(Button,{disabled:this.state.buzzFrozen,color:game.canBuzz?'green':'grey',size:\"huge\",onClick:this.onBuzz,icon:true,labelPosition:\"left\",children:[/*#__PURE__*/_jsx(Icon,{name:game.canBuzz?'lightbulb':'lock'}),\"Buzz\"]}),/*#__PURE__*/_jsxs(Button,{disabled:this.state.buzzFrozen,color:game.canBuzz?'red':'grey',size:\"huge\",onClick:function onClick(){if(game.canBuzz){_this3.submitAnswer(null);}},icon:true,labelPosition:\"left\",children:[/*#__PURE__*/_jsx(Icon,{name:game.canBuzz?'close':'lock'}),\"Pass\"]})]}):null,!game.currentAnswer&&!this.state.localAnswerSubmitted&&game.buzzes[this.props.socket.id]&&game.questionDuration?/*#__PURE__*/_jsx(Input,{autoFocus:true,label:\"Answer\",value:this.state.localAnswer,onChange:function onChange(e){return _this3.setState({localAnswer:e.target.value});},onKeyPress:function onKeyPress(e){return e.key==='Enter'&&_this3.submitAnswer();},icon:/*#__PURE__*/_jsx(Icon,{onClick:function onClick(){return _this3.submitAnswer();},name:\"arrow right\",inverted:true,circular:true,link:true})}):null,game.waitingForWager&&game.waitingForWager[this.props.socket.id]?/*#__PURE__*/_jsx(Input,{label:\"Wager (\".concat(getWagerBounds(game.round,game.scores[this.props.socket.id]).minWager,\" to \").concat(getWagerBounds(game.round,game.scores[this.props.socket.id]).maxWager,\")\"),value:this.state.localWager,onChange:function onChange(e){return _this3.setState({localWager:e.target.value});},onKeyPress:function onKeyPress(e){return e.key==='Enter'&&_this3.submitWager();},icon:/*#__PURE__*/_jsx(Icon,{onClick:function onClick(){return _this3.submitWager();},name:\"arrow right\",inverted:true,circular:true,link:true})}):null]}),/*#__PURE__*/_jsx(\"div\",{className:\"answer\",style:{height:'30px'},children:game.currentAnswer}),Boolean(game.playClueDuration)&&/*#__PURE__*/_jsx(TimerBar,{duration:game.playClueDuration}),Boolean(game.questionDuration)&&/*#__PURE__*/_jsx(TimerBar,{duration:game.questionDuration,secondary:true,submitAnswer:this.submitAnswer}),Boolean(game.wagerDuration)&&/*#__PURE__*/_jsx(TimerBar,{duration:game.wagerDuration,secondary:true}),/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'0px',right:'0px'},children:/*#__PURE__*/_jsxs(Button,{onClick:function onClick(){return _this3.props.socket.emit('JPD:skipQ');},icon:true,labelPosition:\"left\",children:[/*#__PURE__*/_jsx(Icon,{name:\"forward\"}),\"Next Question\"]})})]})}),Boolean(game)&&game.round==='end'&&/*#__PURE__*/_jsxs(\"div\",{id:\"endgame\",children:[/*#__PURE__*/_jsx(\"h1\",{style:{color:'white'},children:\"Winner!\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex'},children:this.getWinners().map(function(winner){return/*#__PURE__*/_jsx(\"img\",{alt:\"\",style:{width:'200px',height:'200px'},src:getDefaultPicture(_this3.props.nameMap[winner],getColorHex(winner))||_this3.props.pictureMap[winner]},winner);})})]})]})}),/*#__PURE__*/_jsx(\"div\",{style:{height:'8px'}}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',overflowX:'auto',flexShrink:0},children:this.props.participants.map(function(p){return/*#__PURE__*/_jsxs(\"div\",{className:\"scoreboard\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"picture\",style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"img\",{alt:\"\",src:_this3.props.pictureMap[p.id]||getDefaultPicture(_this3.props.nameMap[p.id],getColorHex(p.id))}),/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',bottom:'4px',left:'0px',width:'100%',backgroundColor:'#'+getColorHex(p.id),color:'white',borderRadius:'4px',fontSize:'10px',fontWeight:700,display:'flex'},children:/*#__PURE__*/_jsx(\"div\",{title:_this3.props.nameMap[p.id]||p.id,style:{width:'100%',backdropFilter:'brightness(80%)',padding:'4px',textOverflow:'ellipsis',whiteSpace:'nowrap',overflow:'hidden',display:'inline-block'},children:_this3.props.nameMap[p.id]||p.id})}),game&&p.id in game.wagers?/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',bottom:'8px',right:'0px'},children:/*#__PURE__*/_jsx(Label,{title:\"Wager\",circular:true,size:\"tiny\",children:game.wagers[p.id]||0})}):null,game&&/*#__PURE__*/_jsxs(\"div\",{className:\"icons\",children:[!game.picker||game.picker===p.id?/*#__PURE__*/_jsx(Icon,{title:\"Controlling the board\",name:\"pointing up\"}):null,game.skips[p.id]?/*#__PURE__*/_jsx(Icon,{title:\"Voted to skip\",name:\"forward\"}):null]}),game&&p.id===game.currentJudgeAnswer?/*#__PURE__*/_jsxs(\"div\",{className:\"judgeButtons\",children:[/*#__PURE__*/_jsx(Popup,{content:\"Correct\",trigger:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return _this3.judgeAnswer(p.id,true);},color:\"green\",size:\"tiny\",icon:true,fluid:true,children:/*#__PURE__*/_jsx(Icon,{name:\"check\"})})}),/*#__PURE__*/_jsx(Popup,{content:\"Incorrect\",trigger:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return _this3.judgeAnswer(p.id,false);},color:\"red\",size:\"tiny\",icon:true,fluid:true,children:/*#__PURE__*/_jsx(Icon,{name:\"close\"})})}),/*#__PURE__*/_jsx(Popup,{content:\"Skip\",trigger:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return _this3.judgeAnswer(p.id,null);},color:\"grey\",size:\"tiny\",icon:true,fluid:true,children:/*#__PURE__*/_jsx(Icon,{name:\"angle double right\"})})})]}):null]}),/*#__PURE__*/_jsxs(\"div\",{className:\"points \".concat((game===null||game===void 0?void 0:game.scores[p.id])<0&&(game===null||game===void 0?void 0:game.scoring)!=='coop'?'negative':''),children:[(game===null||game===void 0?void 0:game.scoring)==='coop'&&(game===null||game===void 0?void 0:game.numCorrect)+' / '+(game===null||game===void 0?void 0:game.numTotal),(game===null||game===void 0?void 0:game.scoring)!=='coop'&&((game===null||game===void 0?void 0:game.scores[p.id])||0).toLocaleString()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"answerBox \".concat(game!==null&&game!==void 0&&game.buzzes[p.id]?'buzz':'',\" \").concat((game===null||game===void 0?void 0:game.judges[p.id])===false?'negative':''),children:[game&&game.answers[p.id],/*#__PURE__*/_jsx(\"div\",{className:\"timeOffset\",children:_this3.getBuzzOffset(p.id)&&_this3.getBuzzOffset(p.id)>0?\"+\".concat((_this3.getBuzzOffset(p.id)/1000).toFixed(3)):''})]})]},p.id);})}),/*#__PURE__*/_jsx(\"div\",{style:{height:'8px'}}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'center',flexWrap:'wrap',rowGap:'4px'},children:[/*#__PURE__*/_jsx(Dropdown,{button:true,className:\"icon\",labeled:true,icon:\"certificate\",text:\"New Game\",children:/*#__PURE__*/_jsx(Dropdown.Menu,{children:[{key:'all',value:null,text:'Any'},{key:'kids',value:'kids',text:'Kids Week'},{key:'teen',value:'teen',text:'Teen Tournament'},{key:'college',value:'college',text:'College Championship'},{key:'celebrity',value:'celebrity',text:'Celebrity Jeopardy'},{key:'teacher',value:'teacher',text:'Teachers Tournament'},{key:'champions',value:'champions',text:'Tournament of Champions'},{key:'custom',value:'custom',text:'Custom Game'}].map(function(item){return/*#__PURE__*/_jsx(Dropdown.Item,{onClick:function onClick(){if(item.value==='custom'){_this3.setState({showCustomModal:true});}else{_this3.newGame(null,item.value);}},children:item.text},item.key);})})}),/*#__PURE__*/_jsx(Input,{className:\"gameSelector\",style:{marginRight:'.25em'},label:\"Game #\",value:this.state.localEpNum,onChange:function onChange(e){return _this3.setState({localEpNum:e.target.value});},onKeyPress:function onKeyPress(e){return e.key==='Enter'&&_this3.newGame(_this3.state.localEpNum,null);},icon:/*#__PURE__*/_jsx(Icon,{onClick:function onClick(){return _this3.newGame(_this3.state.localEpNum,null);},name:\"arrow right\",inverted:true,circular:true})}),game&&game.airDate&&/*#__PURE__*/_jsx(Label,{style:{display:'flex',alignItems:'center'},size:\"medium\",children:new Date(game.airDate+'T00:00').toLocaleDateString([],{year:'numeric',month:'long',day:'numeric'})}),/*#__PURE__*/_jsx(Label,{style:{display:'flex',alignItems:'center'},size:\"medium\",color:getColor(game&&game.info||'standard'),children:game&&game.info||'standard'}),/*#__PURE__*/_jsxs(Button,{icon:true,labelPosition:\"left\",color:this.state.readingDisabled?'red':'green',onClick:function onClick(){var checked=!_this3.state.readingDisabled;_this3.setState({readingDisabled:checked});if(checked){window.localStorage.setItem('jeopardy-readingDisabled','1');}else{window.localStorage.removeItem('jeopardy-readingDisabled');}},children:[/*#__PURE__*/_jsx(Icon,{name:\"book\"}),this.state.readingDisabled?'Reading off':'Reading on']}),/*#__PURE__*/_jsx(Dropdown,{button:true,className:\"icon\",labeled:true,icon:\"calculator\",text:(_scoringOptions$find=scoringOptions.find(function(option){var _this3$state$game;return option.value===((_this3$state$game=_this3.state.game)===null||_this3$state$game===void 0?void 0:_this3$state$game.scoring);}))===null||_scoringOptions$find===void 0?void 0:_scoringOptions$find.text,children:/*#__PURE__*/_jsx(Dropdown.Menu,{children:scoringOptions.map(function(item){return/*#__PURE__*/_jsx(Dropdown.Item,{onClick:function onClick(){return _this3.changeScoring(item.value);},title:item.title,children:item.text},item.key);})})})]})]}),false&&process.env.NODE_ENV==='development'&&/*#__PURE__*/_jsx(\"pre\",{style:{color:'white',height:'200px',overflow:'scroll'},children:JSON.stringify(game,null,2)})]})]});}}]);return Jeopardy;}(React.Component);var TimerBar=/*#__PURE__*/function(_React$Component2){_inherits(TimerBar,_React$Component2);var _super2=_createSuper(TimerBar);function TimerBar(){var _this4;_classCallCheck(this,TimerBar);for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}_this4=_super2.call.apply(_super2,[this].concat(args));_this4.state={width:'0%'};_this4.submitTimeout=null;return _this4;}_createClass(TimerBar,[{key:\"componentDidMount\",value:function componentDidMount(){var _this5=this;requestAnimationFrame(function(){_this5.setState({width:'100%'});});if(this.props.submitAnswer){this.submitTimeout=window.setTimeout(this.props.submitAnswer,this.props.duration-500);}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){if(this.submitTimeout){window.clearTimeout(this.submitTimeout);}}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',bottom:'0px',left:'0px',height:'10px',width:this.state.width,backgroundColor:this.props.secondary?'#16AB39':'#0E6EB8',transition:\"\".concat(this.props.duration/1000,\"s width linear\")}});}}]);return TimerBar;}(React.Component);function getWagerBounds(round,score){// User setting a wager for DD or final\n// Can bet up to current score, minimum of 1000 in single or 2000 in double, 0 in final\nvar maxWager=0;var minWager=5;if(round==='jeopardy'){maxWager=Math.max(score||0,1000);}else if(round==='double'){maxWager=Math.max(score||0,2000);}else if(round==='final'){minWager=0;maxWager=Math.max(score||0,0);}return{minWager:minWager,maxWager:maxWager};}","map":{"version":3,"names":["React","Button","Label","Input","Icon","Dropdown","Popup","Modal","getDefaultPicture","getColorHex","shuffle","getColor","scoringOptions","key","value","text","title","dailyDouble","Audio","boardFill","think","timesUp","rightAnswer","Jeopardy","state","game","isIntroPlaying","localAnswer","localWager","localAnswerSubmitted","localWagerSubmitted","localEpNum","categoryMask","Array","fill","categoryReadTime","clueMask","readingDisabled","buzzFrozen","showCustomModal","buzzLock","onKeydown","e","document","activeElement","tagName","preventDefault","onBuzz","canBuzz","submitAnswer","newGame","episode","filter","customGame","setState","props","socket","emit","changeScoring","scoreMethod","inputElement","createElement","type","addEventListener","file","files","reader","FileReader","readAsText","onload","content","target","result","dispatchEvent","MouseEvent","sayText","Promise","resolve","setTimeout","window","speechSynthesis","cancel","utterThis","SpeechSynthesisUtterance","voices","getVoices","find","voice","name","speak","onend","onerror","pickQ","id","submitWager","answer","currentQ","judgeAnswer","correct","getCategories","board","categories","Object","keys","forEach","col","Number","split","category","getWinners","max","Math","values","scores","participants","p","map","getBuzzOffset","buzzUnlockTS","buzzes","now","Date","onkeydown","Boolean","localStorage","getItem","on","epNum","play","volume","picker","selectionText","random","floor","length","replace","nameMap","qid","clueMaskOrder","i","j","push","clueSets","slice","clue","newMask","race","removeEventListener","prevProps","prevState","getElementById","box","style","left","offsetLeft","top","offsetTop","transform","display","flexDirection","height","flexGrow","cat","from","_","undefined","currentDailyDouble","waitingForWager","currentValue","question","currentAnswer","submitted","round","questionDuration","getWagerBounds","minWager","maxWager","playClueDuration","wagerDuration","position","right","color","winner","width","pictureMap","overflowX","flexShrink","bottom","backgroundColor","borderRadius","fontSize","fontWeight","backdropFilter","padding","textOverflow","whiteSpace","overflow","wagers","skips","currentJudgeAnswer","scoring","numCorrect","numTotal","toLocaleString","judges","answers","toFixed","justifyContent","flexWrap","rowGap","item","marginRight","airDate","alignItems","toLocaleDateString","year","month","day","info","checked","setItem","removeItem","option","process","env","NODE_ENV","JSON","stringify","Component","TimerBar","submitTimeout","requestAnimationFrame","duration","clearTimeout","secondary","transition","score"],"sources":["/home/runner/work/jeopardy/jeopardy/src/Jeopardy.tsx"],"sourcesContent":["import React from 'react';\nimport {\n  Button,\n  Label,\n  Input,\n  Icon,\n  Dropdown,\n  Popup,\n  Modal,\n} from 'semantic-ui-react';\nimport './Jeopardy.css';\nimport { getDefaultPicture, getColorHex, shuffle, getColor } from './utils';\nimport { Socket } from 'socket.io';\n\nconst scoringOptions = [\n  {\n    key: 'standard',\n    value: 'standard',\n    text: 'Standard',\n    title:\n      'Same as the TV show. First correct answer scores the points. Incorrect answers before the correct answer lose points.',\n  },\n  {\n    key: 'coryat',\n    value: 'coryat',\n    text: 'Coryat',\n    title:\n      'All players get a chance to score/lose points. Daily Doubles are treated as regular questions.',\n  },\n  {\n    key: 'coop',\n    value: 'coop',\n    text: 'Co-Op',\n    title:\n      'Point values are ignored. Score is the same for all players and shows how many questions had a correct answer.',\n  },\n];\n\nconst dailyDouble = new Audio('/jeopardy/jeopardy-daily-double.mp3');\nconst boardFill = new Audio('/jeopardy/jeopardy-board-fill.mp3');\nconst think = new Audio('/jeopardy/jeopardy-think.mp3');\nconst timesUp = new Audio('/jeopardy/jeopardy-times-up.mp3');\nconst rightAnswer = new Audio('/jeopardy/jeopardy-rightanswer.mp3');\n\nexport class Jeopardy extends React.Component<{\n  socket: Socket;\n  participants: User[];\n  nameMap: StringDict;\n  pictureMap: StringDict;\n}> {\n  public state = {\n    game: null as any,\n    isIntroPlaying: false,\n    localAnswer: '',\n    localWager: '',\n    localAnswerSubmitted: false,\n    localWagerSubmitted: false,\n    localEpNum: '',\n    categoryMask: Array(6).fill(true),\n    categoryReadTime: 0,\n    clueMask: {} as any,\n    readingDisabled: false,\n    buzzFrozen: false,\n    showCustomModal: false,\n  };\n  buzzLock = 0;\n\n  async componentDidMount() {\n    window.speechSynthesis.getVoices();\n\n    document.onkeydown = this.onKeydown;\n\n    this.setState({\n      readingDisabled: Boolean(\n        window.localStorage.getItem('jeopardy-readingDisabled')\n      ),\n    });\n\n    this.props.socket.emit('JPD:init');\n    this.props.socket.on('JPD:state', (game: any) => {\n      this.setState({ game, localEpNum: game.epNum });\n    });\n    // this.props.socket.on('JPD:playIntro', () => {\n    //   this.playIntro();\n    // });\n    this.props.socket.on('JPD:playTimesUp', () => {\n      timesUp.play();\n    });\n    this.props.socket.on('JPD:playDailyDouble', () => {\n      dailyDouble.volume = 0.5;\n      dailyDouble.play();\n    });\n    this.props.socket.on('JPD:playFinalJeopardy', async () => {\n      think.volume = 0.5;\n      think.play();\n    });\n    this.props.socket.on('JPD:playRightanswer', () => {\n      rightAnswer.play();\n    });\n    this.props.socket.on('JPD:playMakeSelection', () => {\n      if (this.state.game.picker) {\n        const selectionText = [\n          'Make a selection, {name}',\n          'You have command of the board, {name}',\n          'Pick a clue, {name}',\n          'Select a category, {name}',\n          'Go again, {name}',\n        ];\n        const random =\n          selectionText[Math.floor(Math.random() * selectionText.length)];\n        this.sayText(\n          random.replace('{name}', this.props.nameMap[this.state.game.picker])\n        );\n      }\n    });\n    this.props.socket.on('JPD:playClue', async (qid: string, text: string) => {\n      this.setState({\n        localAnswer: '',\n        localWager: '',\n        localWagerSubmitted: false,\n        localAnswerSubmitted: false,\n      });\n      // Read the question\n      // console.log('JPD:playClue', text);\n      // Remove parenthetical starts and blanks\n      await this.sayText(text.replace(/^\\(.*\\)/, '').replace(/_+/g, ' blank '));\n    });\n    this.props.socket.on('JPD:playCategories', async () => {\n      const now = Number(new Date());\n      const clueMask: any = {};\n      const clueMaskOrder = [];\n      for (let i = 1; i <= 6; i++) {\n        for (let j = 1; j <= 5; j++) {\n          clueMask[`${i}_${j}`] = true;\n          clueMaskOrder.push(`${i}_${j}`);\n        }\n      }\n      this.setState({\n        categoryMask: Array(6).fill(false),\n        categoryReadTime: now,\n        clueMask,\n      });\n      // Run board intro sequence\n      // Play the fill sound\n      boardFill.play();\n      // Randomly choose ordering of the 30 clues\n      // Split into 6 sets of 5\n      // Each half second show another set of 5\n      shuffle(clueMaskOrder);\n      const clueSets = [];\n      for (let i = 0; i < clueMaskOrder.length; i += 5) {\n        clueSets.push(clueMaskOrder.slice(i, i + 5));\n      }\n      for (let i = 0; i < clueSets.length; i++) {\n        await new Promise((resolve) => setTimeout(resolve, 400));\n        clueSets[i].forEach((clue) => delete this.state.clueMask[clue]);\n        this.setState({ clueMask: this.state.clueMask });\n      }\n      // Reveal and read categories\n      const categories = this.getCategories();\n      await this.sayText('Here are the categories.');\n      for (let i = 0; i < this.state.categoryMask.length; i++) {\n        if (this.state.categoryReadTime !== now) {\n          continue;\n        }\n        let newMask: Boolean[] = [...this.state.categoryMask];\n        newMask[i] = true;\n        this.setState({ categoryMask: newMask });\n        await Promise.race([\n          this.sayText(categories[i]),\n          new Promise((resolve) => setTimeout(resolve, 5000)),\n        ]);\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.onKeydown);\n  }\n\n  async componentDidUpdate(prevProps: any, prevState: any) {\n    if (!prevState.game?.currentQ && this.state.game?.currentQ) {\n      // Run growing clue animation\n      const clue = document.getElementById(\n        'clueContainerContainer'\n      ) as HTMLElement;\n      const box = document.getElementById(\n        this.state.game?.currentQ\n      ) as HTMLElement;\n      clue.style.left = box.offsetLeft + 'px';\n      clue.style.top = box.offsetTop + 'px';\n      setTimeout(() => {\n        clue.style.left = '0px';\n        clue.style.top = '0px';\n        clue.style.transform = 'scale(1)';\n      }, 1);\n    }\n  }\n\n  onKeydown = (e: any) => {\n    if (!document.activeElement || document.activeElement.tagName === 'BODY') {\n      if (e.key === ' ') {\n        e.preventDefault();\n        this.onBuzz();\n      }\n      if (e.key === 'p') {\n        e.preventDefault();\n        if (this.state.game.canBuzz) {\n          this.submitAnswer(null);\n        }\n      }\n    }\n  };\n\n  newGame = async (\n    episode: string | null,\n    filter: string | null,\n    customGame?: string\n  ) => {\n    this.setState({ game: null });\n    // optionally send an episode number\n    this.props.socket.emit('JPD:start', episode, filter, customGame);\n  };\n\n  changeScoring = (scoreMethod: string) => {\n    this.props.socket.emit('JPD:scoring', scoreMethod);\n  };\n\n  customGame = () => {\n    // Create an input element\n    const inputElement = document.createElement('input');\n\n    // Set its type to file\n    inputElement.type = 'file';\n\n    // Set accept to the file types you want the user to select.\n    // Include both the file extension and the mime type\n    // inputElement.accept = accept;\n\n    // set onchange event to call callback when user has selected file\n    inputElement.addEventListener('change', () => {\n      const file = inputElement.files![0];\n      // Read the file\n      const reader = new FileReader();\n      reader.readAsText(file);\n      reader.onload = (e) => {\n        let content = e.target?.result;\n        this.newGame(null, null, content as string);\n        this.setState({ showCustomModal: false });\n      };\n    });\n\n    // dispatch a click event to open the file dialog\n    inputElement.dispatchEvent(new MouseEvent('click'));\n  };\n\n  // playIntro = async () => {\n  //   this.setState({ isIntroPlaying: true });\n  //   document.getElementById('intro')!.innerHTML = '';\n  //   let introVideo = document.createElement('video');\n  //   let introMusic = new Audio('/jeopardy/jeopardy-intro-full.ogg');\n  //   document.getElementById('intro')?.appendChild(introVideo);\n  //   introVideo.muted = true;\n  //   introVideo.src = '/jeopardy/jeopardy-intro-video.mp4';\n  //   introVideo.play();\n  //   introVideo.style.width = '100%';\n  //   introVideo.style.height = '100%';\n  //   introVideo.style.backgroundColor = '#000000';\n  //   introMusic.volume = 0.5;\n  //   introMusic.play();\n  //   setTimeout(async () => {\n  //     await this.sayText('This is Jeopardy!');\n  //     await new Promise((resolve) => setTimeout(resolve, 1000));\n  //     await this.sayText(\"Here are today's contestants.\");\n  //     await new Promise((resolve) => setTimeout(resolve, 1000));\n  //     for (let i = 0; i < this.props.participants.length; i++) {\n  //       const p = this.props.participants[i];\n  //       const name = this.props.nameMap[p.id];\n  //       const player = document.createElement('img');\n  //       player.src =\n  //         getDefaultPicture(this.props.nameMap[p.id], getColorHex(p.id)) ||\n  //         this.props.pictureMap[p.id];\n  //       player.style.width = '200px';\n  //       player.style.height = '200px';\n  //       player.style.position = 'absolute';\n  //       player.style.margin = 'auto';\n  //       player.style.top = '0px';\n  //       player.style.bottom = '0px';\n  //       player.style.left = '0px';\n  //       player.style.right = '0px';\n  //       document.getElementById('intro')!.appendChild(player);\n  //       // maybe we can look up the location by IP?\n  //       await this.sayText('A person from somewhere, ' + name);\n  //       await new Promise((resolve) => setTimeout(resolve, 1000));\n  //       document.getElementById('intro')!.removeChild(player);\n  //     }\n  //     await this.sayText(\n  //       'And now, here is the host of Jeopardy, your computer!'\n  //     );\n  //     await new Promise((resolve) => setTimeout(resolve, 1000));\n  //     introMusic.pause();\n  //     introVideo.pause();\n  //     introVideo = null as any;\n  //     introMusic = null as any;\n  //     document.getElementById('intro')!.innerHTML = '';\n  //     this.setState({ isIntroPlaying: false });\n  //   }, 10000);\n  // };\n\n  sayText = async (text: string) => {\n    if (this.state.readingDisabled) {\n      await new Promise((resolve) => setTimeout(resolve, 2000));\n      return;\n    }\n    await new Promise((resolve) => {\n      window.speechSynthesis.cancel();\n      const utterThis = new SpeechSynthesisUtterance(text);\n      // let retryCount = 0;\n      // while (speechSynthesis.getVoices().length === 0 && retryCount < 3) {\n      //   retryCount += 1;\n      //   await new Promise((resolve) => setTimeout(resolve, 500));\n      // }\n      let voices = window.speechSynthesis.getVoices();\n      let target = voices.find(\n        (voice) => voice.name === 'Google UK English Male'\n      );\n      if (target) {\n        utterThis.voice = target;\n      }\n      window.speechSynthesis.speak(utterThis);\n      utterThis.onend = resolve;\n      utterThis.onerror = resolve;\n    });\n  };\n\n  pickQ = (id: string) => {\n    this.props.socket.emit('JPD:pickQ', id);\n  };\n\n  submitWager = () => {\n    this.props.socket.emit('JPD:wager', this.state.localWager);\n    this.setState({ localWager: '', localWagerSubmitted: true });\n  };\n\n  submitAnswer = (answer = null) => {\n    if (!this.state.localAnswerSubmitted) {\n      this.props.socket.emit(\n        'JPD:answer',\n        this.state.game?.currentQ,\n        answer || this.state.localAnswer\n      );\n      this.setState({ localAnswer: '', localAnswerSubmitted: true });\n    }\n  };\n\n  judgeAnswer = (id: string, correct: boolean | null) => {\n    this.props.socket.emit('JPD:judge', { id, correct });\n  };\n\n  getCategories = () => {\n    const game = this.state.game;\n    if (!game || !game.board) {\n      return [];\n    }\n    let categories: string[] = Array(6).fill('');\n    Object.keys(game.board).forEach((key) => {\n      const col = Number(key.split('_')[0]) - 1;\n      categories[col] = game.board[key].category;\n    });\n    return categories;\n  };\n\n  getWinners = () => {\n    const max =\n      Math.max(...Object.values<number>(this.state.game?.scores || {})) || 0;\n    return this.props.participants\n      .filter((p) => (this.state.game.scores[p.id] || 0) === max)\n      .map((p) => p.id);\n  };\n\n  getBuzzOffset = (id: string) => {\n    if (!this.state.game?.buzzUnlockTS) {\n      return 0;\n    }\n    return this.state.game?.buzzes[id] - this.state.game?.buzzUnlockTS;\n  };\n\n  onBuzz = () => {\n    const game = this.state.game;\n    if (game.canBuzz && !this.buzzLock && !this.state.buzzFrozen) {\n      this.props.socket.emit('JPD:buzz');\n    } else {\n      // Freeze the buzzer for 0.25 seconds\n      // setState takes a little bit, so also set a local var to prevent spam\n      const now = Date.now();\n      this.buzzLock = now;\n      this.setState({ buzzFrozen: true });\n      setTimeout(() => {\n        if (this.buzzLock === now) {\n          this.setState({ buzzFrozen: false });\n          this.buzzLock = 0;\n        }\n      }, 250);\n    }\n  };\n\n  render() {\n    const game = this.state.game;\n    const categories = this.getCategories();\n    return (\n      <>\n        {this.state.showCustomModal && (\n          <Modal open onClose={() => this.setState({ showCustomModal: false })}>\n            <Modal.Header>Custom Game</Modal.Header>\n            <Modal.Content>\n              <Modal.Description>\n                <div>\n                  You can create and play a custom game by uploading a data\n                  file. Download the example and customize with your own\n                  questions and answers.\n                  <div>\n                    <Button\n                      color=\"orange\"\n                      icon\n                      labelPosition=\"left\"\n                      href={`./example.csv`}\n                      download=\"example.csv\"\n                    >\n                      <Icon name=\"download\" />\n                      Download Example .csv\n                    </Button>\n                  </div>\n                </div>\n                <hr />\n                <div>Once you're done, upload your file:</div>\n                <div>\n                  <Button\n                    onClick={() => this.customGame()}\n                    icon\n                    labelPosition=\"left\"\n                    color=\"purple\"\n                  >\n                    <Icon name=\"upload\" />\n                    Upload\n                  </Button>\n                </div>\n              </Modal.Description>\n            </Modal.Content>\n          </Modal>\n        )}\n        <div\n          style={{ display: 'flex', flexDirection: 'column', height: '100%' }}\n        >\n          {\n            <React.Fragment>\n              {\n                <div style={{ display: 'flex', flexGrow: 1 }}>\n                  <div\n                    className={`board ${\n                      this.state.game?.currentQ ? 'currentQ' : ''\n                    }`}\n                  >\n                    {this.state.isIntroPlaying && <div id=\"intro\" />}\n                    {categories.map((cat, i) => (\n                      <div key={i} className=\"category box\">\n                        {this.state.categoryMask[i] ? cat : ''}\n                      </div>\n                    ))}\n                    {Array.from(Array(5)).map((_, i) => {\n                      return (\n                        <React.Fragment key={i}>\n                          {categories.map((cat, j) => {\n                            const id = `${j + 1}_${i + 1}`;\n                            const clue = game.board[id];\n                            return (\n                              <div\n                                key={id}\n                                id={id}\n                                onClick={\n                                  clue ? () => this.pickQ(id) : undefined\n                                }\n                                className={`${clue ? 'value' : ''} box`}\n                              >\n                                {!this.state.clueMask[id] && clue\n                                  ? clue.value\n                                  : ''}\n                              </div>\n                            );\n                          })}\n                        </React.Fragment>\n                      );\n                    })}\n                    {game && Boolean(game.currentQ) && (\n                      <div\n                        id=\"clueContainerContainer\"\n                        className=\"clueContainerContainer\"\n                      >\n                        <div\n                          id=\"clueContainer\"\n                          className={`clueContainer ${\n                            game.currentDailyDouble && game.waitingForWager\n                              ? 'dailyDouble'\n                              : ''\n                          }`}\n                        >\n                          <div className=\"category\" style={{ height: '30px' }}>\n                            {game.board[game.currentQ] &&\n                              game.board[game.currentQ].category}\n                          </div>\n                          <div className=\"category\" style={{ height: '30px' }}>\n                            {Boolean(game.currentValue) && game.currentValue}\n                          </div>\n                          {\n                            <div className={`clue`}>\n                              {game.board[game.currentQ] &&\n                                game.board[game.currentQ].question}\n                            </div>\n                          }\n                          <div className=\"\" style={{ height: '60px' }}>\n                            {!game.currentAnswer &&\n                            !game.buzzes[this.props.socket.id] &&\n                            !game.submitted[this.props.socket.id] &&\n                            !game.currentDailyDouble &&\n                            game.round !== 'final' ? (\n                              <div style={{ display: 'flex' }}>\n                                <Button\n                                  disabled={this.state.buzzFrozen}\n                                  color={game.canBuzz ? 'green' : 'grey'}\n                                  size=\"huge\"\n                                  onClick={this.onBuzz}\n                                  icon\n                                  labelPosition=\"left\"\n                                >\n                                  <Icon\n                                    name={game.canBuzz ? 'lightbulb' : 'lock'}\n                                  />\n                                  Buzz\n                                </Button>\n                                <Button\n                                  disabled={this.state.buzzFrozen}\n                                  color={game.canBuzz ? 'red' : 'grey'}\n                                  size=\"huge\"\n                                  onClick={() => {\n                                    if (game.canBuzz) {\n                                      this.submitAnswer(null);\n                                    }\n                                  }}\n                                  icon\n                                  labelPosition=\"left\"\n                                >\n                                  <Icon\n                                    name={game.canBuzz ? 'close' : 'lock'}\n                                  />\n                                  Pass\n                                </Button>\n                              </div>\n                            ) : null}\n                            {!game.currentAnswer &&\n                            !this.state.localAnswerSubmitted &&\n                            game.buzzes[this.props.socket.id] &&\n                            game.questionDuration ? (\n                              <Input\n                                autoFocus\n                                label=\"Answer\"\n                                value={this.state.localAnswer}\n                                onChange={(e) =>\n                                  this.setState({ localAnswer: e.target.value })\n                                }\n                                onKeyPress={(e: any) =>\n                                  e.key === 'Enter' && this.submitAnswer()\n                                }\n                                icon={\n                                  <Icon\n                                    onClick={() => this.submitAnswer()}\n                                    name=\"arrow right\"\n                                    inverted\n                                    circular\n                                    link\n                                  />\n                                }\n                              />\n                            ) : null}\n                            {game.waitingForWager &&\n                            game.waitingForWager[this.props.socket.id] ? (\n                              <Input\n                                label={`Wager (${\n                                  getWagerBounds(\n                                    game.round,\n                                    game.scores[this.props.socket.id]\n                                  ).minWager\n                                } to ${\n                                  getWagerBounds(\n                                    game.round,\n                                    game.scores[this.props.socket.id]\n                                  ).maxWager\n                                })`}\n                                value={this.state.localWager}\n                                onChange={(e) =>\n                                  this.setState({ localWager: e.target.value })\n                                }\n                                onKeyPress={(e: any) =>\n                                  e.key === 'Enter' && this.submitWager()\n                                }\n                                icon={\n                                  <Icon\n                                    onClick={() => this.submitWager()}\n                                    name=\"arrow right\"\n                                    inverted\n                                    circular\n                                    link\n                                  />\n                                }\n                              />\n                            ) : null}\n                          </div>\n                          <div className={`answer`} style={{ height: '30px' }}>\n                            {game.currentAnswer}\n                          </div>\n                          {Boolean(game.playClueDuration) && (\n                            <TimerBar duration={game.playClueDuration} />\n                          )}\n                          {Boolean(game.questionDuration) && (\n                            <TimerBar\n                              duration={game.questionDuration}\n                              secondary\n                              submitAnswer={this.submitAnswer}\n                            />\n                          )}\n                          {Boolean(game.wagerDuration) && (\n                            <TimerBar duration={game.wagerDuration} secondary />\n                          )}\n                          <div\n                            style={{\n                              position: 'absolute',\n                              top: '0px',\n                              right: '0px',\n                            }}\n                          >\n                            <Button\n                              onClick={() =>\n                                this.props.socket.emit('JPD:skipQ')\n                              }\n                              icon\n                              labelPosition=\"left\"\n                            >\n                              <Icon name=\"forward\" />\n                              Next Question\n                            </Button>\n                          </div>\n                        </div>\n                      </div>\n                    )}\n                    {Boolean(game) && game.round === 'end' && (\n                      <div id=\"endgame\">\n                        <h1 style={{ color: 'white' }}>Winner!</h1>\n                        <div style={{ display: 'flex' }}>\n                          {this.getWinners().map((winner: string) => (\n                            <img\n                              key={winner}\n                              alt=\"\"\n                              style={{ width: '200px', height: '200px' }}\n                              src={\n                                getDefaultPicture(\n                                  this.props.nameMap[winner],\n                                  getColorHex(winner)\n                                ) || this.props.pictureMap[winner]\n                              }\n                            />\n                          ))}\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              }\n              <div style={{ height: '8px' }} />\n              <div\n                style={{ display: 'flex', overflowX: 'auto', flexShrink: 0 }}\n              >\n                {this.props.participants.map((p) => {\n                  return (\n                    <div key={p.id} className=\"scoreboard\">\n                      <div className=\"picture\" style={{ position: 'relative' }}>\n                        <img\n                          alt=\"\"\n                          src={\n                            this.props.pictureMap[p.id] ||\n                            getDefaultPicture(\n                              this.props.nameMap[p.id],\n                              getColorHex(p.id)\n                            )\n                          }\n                        />\n                        <div\n                          style={{\n                            position: 'absolute',\n                            bottom: '4px',\n                            left: '0px',\n                            width: '100%',\n                            backgroundColor: '#' + getColorHex(p.id),\n                            color: 'white',\n                            borderRadius: '4px',\n                            fontSize: '10px',\n                            fontWeight: 700,\n                            display: 'flex',\n                          }}\n                        >\n                          <div\n                            title={this.props.nameMap[p.id] || p.id}\n                            style={{\n                              width: '100%',\n                              backdropFilter: 'brightness(80%)',\n                              padding: '4px',\n                              textOverflow: 'ellipsis',\n                              whiteSpace: 'nowrap',\n                              overflow: 'hidden',\n                              display: 'inline-block',\n                            }}\n                          >\n                            {this.props.nameMap[p.id] || p.id}\n                          </div>\n                        </div>\n                        {game && p.id in game.wagers ? (\n                          <div\n                            style={{\n                              position: 'absolute',\n                              bottom: '8px',\n                              right: '0px',\n                            }}\n                          >\n                            <Label title=\"Wager\" circular size=\"tiny\">\n                              {game.wagers[p.id] || 0}\n                            </Label>\n                          </div>\n                        ) : null}\n                        {game && (\n                          <div className=\"icons\">\n                            {!game.picker || game.picker === p.id ? (\n                              <Icon\n                                title=\"Controlling the board\"\n                                name=\"pointing up\"\n                              />\n                            ) : null}\n                            {game.skips[p.id] ? (\n                              <Icon title=\"Voted to skip\" name=\"forward\" />\n                            ) : null}\n                          </div>\n                        )}\n                        {game && p.id === game.currentJudgeAnswer ? (\n                          <div className=\"judgeButtons\">\n                            <Popup\n                              content=\"Correct\"\n                              trigger={\n                                <Button\n                                  onClick={() => this.judgeAnswer(p.id, true)}\n                                  color=\"green\"\n                                  size=\"tiny\"\n                                  icon\n                                  fluid\n                                >\n                                  <Icon name=\"check\" />\n                                </Button>\n                              }\n                            />\n                            <Popup\n                              content=\"Incorrect\"\n                              trigger={\n                                <Button\n                                  onClick={() => this.judgeAnswer(p.id, false)}\n                                  color=\"red\"\n                                  size=\"tiny\"\n                                  icon\n                                  fluid\n                                >\n                                  <Icon name=\"close\" />\n                                </Button>\n                              }\n                            />\n                            <Popup\n                              content=\"Skip\"\n                              trigger={\n                                <Button\n                                  onClick={() => this.judgeAnswer(p.id, null)}\n                                  color=\"grey\"\n                                  size=\"tiny\"\n                                  icon\n                                  fluid\n                                >\n                                  <Icon name=\"angle double right\" />\n                                </Button>\n                              }\n                            />\n                          </div>\n                        ) : null}\n                      </div>\n                      <div\n                        className={`points ${\n                          game?.scores[p.id] < 0 && game?.scoring !== 'coop'\n                            ? 'negative'\n                            : ''\n                        }`}\n                      >\n                        {game?.scoring === 'coop' &&\n                          game?.numCorrect + ' / ' + game?.numTotal}\n                        {game?.scoring !== 'coop' &&\n                          (game?.scores[p.id] || 0).toLocaleString()}\n                      </div>\n                      <div\n                        className={`answerBox ${\n                          game?.buzzes[p.id] ? 'buzz' : ''\n                        } ${game?.judges[p.id] === false ? 'negative' : ''}`}\n                      >\n                        {game && game.answers[p.id]}\n                        <div className=\"timeOffset\">\n                          {this.getBuzzOffset(p.id) &&\n                          this.getBuzzOffset(p.id) > 0\n                            ? `+${(this.getBuzzOffset(p.id) / 1000).toFixed(3)}`\n                            : ''}\n                        </div>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n              <div style={{ height: '8px' }} />\n              <div\n                style={{\n                  display: 'flex',\n                  justifyContent: 'center',\n                  flexWrap: 'wrap',\n                  rowGap: '4px',\n                }}\n              >\n                <Dropdown\n                  button\n                  className=\"icon\"\n                  labeled\n                  icon=\"certificate\"\n                  text=\"New Game\"\n                >\n                  <Dropdown.Menu>\n                    {[\n                      { key: 'all', value: null, text: 'Any' },\n                      { key: 'kids', value: 'kids', text: 'Kids Week' },\n                      { key: 'teen', value: 'teen', text: 'Teen Tournament' },\n                      {\n                        key: 'college',\n                        value: 'college',\n                        text: 'College Championship',\n                      },\n                      {\n                        key: 'celebrity',\n                        value: 'celebrity',\n                        text: 'Celebrity Jeopardy',\n                      },\n                      {\n                        key: 'teacher',\n                        value: 'teacher',\n                        text: 'Teachers Tournament',\n                      },\n                      {\n                        key: 'champions',\n                        value: 'champions',\n                        text: 'Tournament of Champions',\n                      },\n                      {\n                        key: 'custom',\n                        value: 'custom',\n                        text: 'Custom Game',\n                      },\n                    ].map((item) => (\n                      <Dropdown.Item\n                        key={item.key}\n                        onClick={() => {\n                          if (item.value === 'custom') {\n                            this.setState({ showCustomModal: true });\n                          } else {\n                            this.newGame(null, item.value);\n                          }\n                        }}\n                      >\n                        {item.text}\n                      </Dropdown.Item>\n                    ))}\n                  </Dropdown.Menu>\n                </Dropdown>\n                <Input\n                  className=\"gameSelector\"\n                  style={{ marginRight: '.25em' }}\n                  label=\"Game #\"\n                  value={this.state.localEpNum}\n                  onChange={(e) =>\n                    this.setState({ localEpNum: e.target.value })\n                  }\n                  onKeyPress={(e: any) =>\n                    e.key === 'Enter' &&\n                    this.newGame(this.state.localEpNum, null)\n                  }\n                  icon={\n                    <Icon\n                      onClick={() => this.newGame(this.state.localEpNum, null)}\n                      name=\"arrow right\"\n                      inverted\n                      circular\n                    />\n                  }\n                />\n                {game && game.airDate && (\n                  <Label\n                    style={{ display: 'flex', alignItems: 'center' }}\n                    size=\"medium\"\n                  >\n                    {new Date(game.airDate + 'T00:00').toLocaleDateString([], {\n                      year: 'numeric',\n                      month: 'long',\n                      day: 'numeric',\n                    })}\n                  </Label>\n                )}\n                <Label\n                  style={{ display: 'flex', alignItems: 'center' }}\n                  size=\"medium\"\n                  color={getColor((game && game.info) || 'standard') as any}\n                >\n                  {(game && game.info) || 'standard'}\n                </Label>\n                <Button\n                  icon\n                  labelPosition=\"left\"\n                  color={this.state.readingDisabled ? 'red' : 'green'}\n                  onClick={() => {\n                    const checked = !this.state.readingDisabled;\n                    this.setState({ readingDisabled: checked });\n                    if (checked) {\n                      window.localStorage.setItem(\n                        'jeopardy-readingDisabled',\n                        '1'\n                      );\n                    } else {\n                      window.localStorage.removeItem(\n                        'jeopardy-readingDisabled'\n                      );\n                    }\n                  }}\n                >\n                  <Icon name=\"book\" />\n                  {this.state.readingDisabled ? 'Reading off' : 'Reading on'}\n                </Button>\n                <Dropdown\n                  button\n                  className=\"icon\"\n                  labeled\n                  icon=\"calculator\"\n                  text={\n                    scoringOptions.find(\n                      (option) => option.value === this.state.game?.scoring\n                    )?.text\n                  }\n                >\n                  <Dropdown.Menu>\n                    {scoringOptions.map((item) => (\n                      <Dropdown.Item\n                        key={item.key}\n                        onClick={() => this.changeScoring(item.value)}\n                        title={item.title}\n                      >\n                        {item.text}\n                      </Dropdown.Item>\n                    ))}\n                  </Dropdown.Menu>\n                </Dropdown>\n                {/* <Button\n                  onClick={() => this.props.socket.emit('JPD:cmdIntro')}\n                  icon\n                  labelPosition=\"left\"\n                  color=\"blue\"\n                >\n                  <Icon name=\"film\" />\n                  Play Intro\n                </Button> */}\n              </div>\n            </React.Fragment>\n          }\n          {false && process.env.NODE_ENV === 'development' && (\n            <pre\n              style={{ color: 'white', height: '200px', overflow: 'scroll' }}\n            >\n              {JSON.stringify(game, null, 2)}\n            </pre>\n          )}\n        </div>\n      </>\n    );\n  }\n}\n\nclass TimerBar extends React.Component<{\n  duration: number;\n  secondary?: boolean;\n  submitAnswer?: Function;\n}> {\n  public state = { width: '0%' };\n  submitTimeout: number | null = null;\n  componentDidMount() {\n    requestAnimationFrame(() => {\n      this.setState({ width: '100%' });\n    });\n    if (this.props.submitAnswer) {\n      this.submitTimeout = window.setTimeout(\n        this.props.submitAnswer,\n        this.props.duration - 500\n      );\n    }\n  }\n  componentWillUnmount() {\n    if (this.submitTimeout) {\n      window.clearTimeout(this.submitTimeout);\n    }\n  }\n  render() {\n    return (\n      <div\n        style={{\n          position: 'absolute',\n          bottom: '0px',\n          left: '0px',\n          height: '10px',\n          width: this.state.width,\n          backgroundColor: this.props.secondary ? '#16AB39' : '#0E6EB8',\n          transition: `${this.props.duration / 1000}s width linear`,\n        }}\n      />\n    );\n  }\n}\n\nfunction getWagerBounds(round: string, score: number) {\n  // User setting a wager for DD or final\n  // Can bet up to current score, minimum of 1000 in single or 2000 in double, 0 in final\n  let maxWager = 0;\n  let minWager = 5;\n  if (round === 'jeopardy') {\n    maxWager = Math.max(score || 0, 1000);\n  } else if (round === 'double') {\n    maxWager = Math.max(score || 0, 2000);\n  } else if (round === 'final') {\n    minWager = 0;\n    maxWager = Math.max(score || 0, 0);\n  }\n  return { minWager, maxWager };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}