{"ast":null,"code":"import _includes from \"lodash-es/includes\";\nimport _find from \"lodash-es/find\";\nimport _findIndex from \"lodash-es/findIndex\";\nimport _reduce from \"lodash-es/reduce\";\nimport getMenuOptions from './getMenuOptions';\nexport default function getSelectedIndex(config) {\n  var additionLabel = config.additionLabel,\n    additionPosition = config.additionPosition,\n    allowAdditions = config.allowAdditions,\n    deburr = config.deburr,\n    multiple = config.multiple,\n    options = config.options,\n    search = config.search,\n    searchQuery = config.searchQuery,\n    selectedIndex = config.selectedIndex,\n    value = config.value;\n  var menuOptions = getMenuOptions({\n    value: value,\n    options: options,\n    searchQuery: searchQuery,\n    additionLabel: additionLabel,\n    additionPosition: additionPosition,\n    allowAdditions: allowAdditions,\n    deburr: deburr,\n    multiple: multiple,\n    search: search\n  });\n  var enabledIndexes = _reduce(menuOptions, function (memo, item, index) {\n    if (!item.disabled) memo.push(index);\n    return memo;\n  }, []);\n  var newSelectedIndex; // update the selected index\n\n  if (!selectedIndex || selectedIndex < 0) {\n    var firstIndex = enabledIndexes[0]; // Select the currently active item, if none, use the first item.\n    // Multiple selects remove active items from the list,\n    // their initial selected index should be 0.\n\n    newSelectedIndex = multiple ? firstIndex : _findIndex(menuOptions, ['value', value]) || enabledIndexes[0];\n  } else if (multiple) {\n    newSelectedIndex = _find(enabledIndexes, function (index) {\n      return index >= selectedIndex;\n    }); // multiple selects remove options from the menu as they are made active\n    // keep the selected index within range of the remaining items\n\n    if (selectedIndex >= menuOptions.length - 1) {\n      newSelectedIndex = enabledIndexes[enabledIndexes.length - 1];\n    }\n  } else {\n    var activeIndex = _findIndex(menuOptions, ['value', value]); // regular selects can only have one active item\n    // set the selected index to the currently active item\n\n    newSelectedIndex = _includes(enabledIndexes, activeIndex) ? activeIndex : undefined;\n  }\n  if (!newSelectedIndex || newSelectedIndex < 0) {\n    newSelectedIndex = enabledIndexes[0];\n  }\n  return newSelectedIndex;\n}","map":{"version":3,"names":["_includes","_find","_findIndex","_reduce","getMenuOptions","getSelectedIndex","config","additionLabel","additionPosition","allowAdditions","deburr","multiple","options","search","searchQuery","selectedIndex","value","menuOptions","enabledIndexes","memo","item","index","disabled","push","newSelectedIndex","firstIndex","length","activeIndex","undefined"],"sources":["/home/runner/work/jeopardy/jeopardy/node_modules/semantic-ui-react/dist/es/modules/Dropdown/utils/getSelectedIndex.js"],"sourcesContent":["import _includes from \"lodash-es/includes\";\nimport _find from \"lodash-es/find\";\nimport _findIndex from \"lodash-es/findIndex\";\nimport _reduce from \"lodash-es/reduce\";\nimport getMenuOptions from './getMenuOptions';\nexport default function getSelectedIndex(config) {\n  var additionLabel = config.additionLabel,\n      additionPosition = config.additionPosition,\n      allowAdditions = config.allowAdditions,\n      deburr = config.deburr,\n      multiple = config.multiple,\n      options = config.options,\n      search = config.search,\n      searchQuery = config.searchQuery,\n      selectedIndex = config.selectedIndex,\n      value = config.value;\n  var menuOptions = getMenuOptions({\n    value: value,\n    options: options,\n    searchQuery: searchQuery,\n    additionLabel: additionLabel,\n    additionPosition: additionPosition,\n    allowAdditions: allowAdditions,\n    deburr: deburr,\n    multiple: multiple,\n    search: search\n  });\n\n  var enabledIndexes = _reduce(menuOptions, function (memo, item, index) {\n    if (!item.disabled) memo.push(index);\n    return memo;\n  }, []);\n\n  var newSelectedIndex; // update the selected index\n\n  if (!selectedIndex || selectedIndex < 0) {\n    var firstIndex = enabledIndexes[0]; // Select the currently active item, if none, use the first item.\n    // Multiple selects remove active items from the list,\n    // their initial selected index should be 0.\n\n    newSelectedIndex = multiple ? firstIndex : _findIndex(menuOptions, ['value', value]) || enabledIndexes[0];\n  } else if (multiple) {\n    newSelectedIndex = _find(enabledIndexes, function (index) {\n      return index >= selectedIndex;\n    }); // multiple selects remove options from the menu as they are made active\n    // keep the selected index within range of the remaining items\n\n    if (selectedIndex >= menuOptions.length - 1) {\n      newSelectedIndex = enabledIndexes[enabledIndexes.length - 1];\n    }\n  } else {\n    var activeIndex = _findIndex(menuOptions, ['value', value]); // regular selects can only have one active item\n    // set the selected index to the currently active item\n\n\n    newSelectedIndex = _includes(enabledIndexes, activeIndex) ? activeIndex : undefined;\n  }\n\n  if (!newSelectedIndex || newSelectedIndex < 0) {\n    newSelectedIndex = enabledIndexes[0];\n  }\n\n  return newSelectedIndex;\n}"],"mappings":"AAAA,OAAOA,SAAS,MAAM,oBAAoB;AAC1C,OAAOC,KAAK,MAAM,gBAAgB;AAClC,OAAOC,UAAU,MAAM,qBAAqB;AAC5C,OAAOC,OAAO,MAAM,kBAAkB;AACtC,OAAOC,cAAc,MAAM,kBAAkB;AAC7C,eAAe,SAASC,gBAAgB,CAACC,MAAM,EAAE;EAC/C,IAAIC,aAAa,GAAGD,MAAM,CAACC,aAAa;IACpCC,gBAAgB,GAAGF,MAAM,CAACE,gBAAgB;IAC1CC,cAAc,GAAGH,MAAM,CAACG,cAAc;IACtCC,MAAM,GAAGJ,MAAM,CAACI,MAAM;IACtBC,QAAQ,GAAGL,MAAM,CAACK,QAAQ;IAC1BC,OAAO,GAAGN,MAAM,CAACM,OAAO;IACxBC,MAAM,GAAGP,MAAM,CAACO,MAAM;IACtBC,WAAW,GAAGR,MAAM,CAACQ,WAAW;IAChCC,aAAa,GAAGT,MAAM,CAACS,aAAa;IACpCC,KAAK,GAAGV,MAAM,CAACU,KAAK;EACxB,IAAIC,WAAW,GAAGb,cAAc,CAAC;IAC/BY,KAAK,EAAEA,KAAK;IACZJ,OAAO,EAAEA,OAAO;IAChBE,WAAW,EAAEA,WAAW;IACxBP,aAAa,EAAEA,aAAa;IAC5BC,gBAAgB,EAAEA,gBAAgB;IAClCC,cAAc,EAAEA,cAAc;IAC9BC,MAAM,EAAEA,MAAM;IACdC,QAAQ,EAAEA,QAAQ;IAClBE,MAAM,EAAEA;EACV,CAAC,CAAC;EAEF,IAAIK,cAAc,GAAGf,OAAO,CAACc,WAAW,EAAE,UAAUE,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAE;IACrE,IAAI,CAACD,IAAI,CAACE,QAAQ,EAAEH,IAAI,CAACI,IAAI,CAACF,KAAK,CAAC;IACpC,OAAOF,IAAI;EACb,CAAC,EAAE,EAAE,CAAC;EAEN,IAAIK,gBAAgB,CAAC,CAAC;;EAEtB,IAAI,CAACT,aAAa,IAAIA,aAAa,GAAG,CAAC,EAAE;IACvC,IAAIU,UAAU,GAAGP,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;IACpC;IACA;;IAEAM,gBAAgB,GAAGb,QAAQ,GAAGc,UAAU,GAAGvB,UAAU,CAACe,WAAW,EAAE,CAAC,OAAO,EAAED,KAAK,CAAC,CAAC,IAAIE,cAAc,CAAC,CAAC,CAAC;EAC3G,CAAC,MAAM,IAAIP,QAAQ,EAAE;IACnBa,gBAAgB,GAAGvB,KAAK,CAACiB,cAAc,EAAE,UAAUG,KAAK,EAAE;MACxD,OAAOA,KAAK,IAAIN,aAAa;IAC/B,CAAC,CAAC,CAAC,CAAC;IACJ;;IAEA,IAAIA,aAAa,IAAIE,WAAW,CAACS,MAAM,GAAG,CAAC,EAAE;MAC3CF,gBAAgB,GAAGN,cAAc,CAACA,cAAc,CAACQ,MAAM,GAAG,CAAC,CAAC;IAC9D;EACF,CAAC,MAAM;IACL,IAAIC,WAAW,GAAGzB,UAAU,CAACe,WAAW,EAAE,CAAC,OAAO,EAAED,KAAK,CAAC,CAAC,CAAC,CAAC;IAC7D;;IAGAQ,gBAAgB,GAAGxB,SAAS,CAACkB,cAAc,EAAES,WAAW,CAAC,GAAGA,WAAW,GAAGC,SAAS;EACrF;EAEA,IAAI,CAACJ,gBAAgB,IAAIA,gBAAgB,GAAG,CAAC,EAAE;IAC7CA,gBAAgB,GAAGN,cAAc,CAAC,CAAC,CAAC;EACtC;EAEA,OAAOM,gBAAgB;AACzB"},"metadata":{},"sourceType":"module","externalDependencies":[]}